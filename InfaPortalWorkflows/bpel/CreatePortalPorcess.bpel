<?xml version="1.0" encoding="UTF-8"?>
<bpel:process xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
              xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"
              xmlns:ns="http://Customer360Process/Customer360Process"
              xmlns:htd="http://www.example.org/WS-HT"
              xmlns:abxht="http://schemas.active-endpoints.com/b4p/wshumantask/2007/10/abxht"
              xmlns:cfgx="http://informatica.com/modules/configuration/1.0/xquery"
              xmlns:b4p="http://www.example.org/BPEL4People"
              xmlns:solution="http://custom.functions/CustomJavafunctions"
              xmlns:mdm_avos_pl="http://www.informatica.com/activevos/mdmworkflow/wsdl/mdmavospl"
              xmlns:aei="http://www.activebpel.org/2009/02/bpel/extension/ignorable"
              xmlns:ext="http://www.activebpel.org/2006/09/bpel/extension/query_handling"
              xmlns:ns2="urn:co-base.informatica.mdm"
              xmlns:ns1="urn:cs-base.informatica.mdm"
              xmlns:ns4="urn:co-ors.informatica.mdm"
              xmlns:ext1="http://www.activebpel.org/2009/06/bpel/extension/links"
              xmlns:ext2="http://www.activebpel.org/2011/08/bpel/extension/script"
              xmlns:abx="http://www.activebpel.org/bpel/extension"
              xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"
              xmlns:aeREST="http://www.activebpel.org/REST/2007/12/01/aeREST.wsdl"
              xmlns:xsd="http://www.w3.org/2001/XMLSchema"
              xmlns:mdm_avos="urn:informatica.mdm.av"
              xmlns:rest="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"
              xmlns:cfg="http://www.informatica.com/schema/1.0/av_config.xsd"
              xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
              aei:editStyle="BPMN"
              ext1:linksAreTransitions="yes"
              ext:createTargetXPath="yes"
              ext:disableSelectionFailure="yes"
              name="CreatePortalPorcess"
              suppressJoinFailure="yes"
              targetNamespace="http://CreatePortalPorcess">
   <b4p:humanInteractions>
      <htd:logicalPeopleGroups>
         <htd:logicalPeopleGroup xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                                 xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                                 xmlns:ns3="urn:co-types.informatica.mdm"
                                 xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                                 name="abAdmin"/>
      </htd:logicalPeopleGroups>
      <htd:tasks>
         <htd:task xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                   xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                   xmlns:ns3="urn:co-types.informatica.mdm"
                   xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                   name="DraftState">
            <htd:interface operation="processTask" portType="mdm_avos:processTask"/>
            <htd:priority expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$InfaTask/mdmavxsd:taskData/mdmavxsd:priority/text()</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $task := $ProcessTaskResponse/mdmavxsd:INFATask&#xD;
return&#xD;
&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
    &lt;ht:users&gt;&#xD;
      &lt;ht:user&gt;{concat($task/mdmavxsd:orsId/text()," ", $userName )}&lt;/ht:user&gt;&#xD;
    &lt;/ht:users&gt;&#xD;
 &lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>DraftState Task</htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns1="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns1:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewDraftStateTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
         <htd:task xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                   xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                   xmlns:mdm_av_api="urn:informatica.mdm.av.api"
                   xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                   xmlns:ns3="urn:co-types.informatica.mdm"
                   name="FinalReviewTask">
            <htd:interface xmlns:ns="urn:informatica.mdm.av.api" xmlns:ns1="urn:informatica.mdm.av"
                           operation="processTask"
                           portType="ns1:processTask"/>
            <htd:priority>$InfaTask/mdmavxsd:taskData/mdmavxsd:priority</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
  {&#xD;
    &lt;ht:groups&gt;&#xD;
  {&#xD;
  for $role in $AssignableUsersResponse/rest:payload/*/ns1:roles/ns1:role&#xD;
    return&#xD;
      &lt;ht:group&gt;{concat($InfaTask/mdmavxsd:orsId/text()," ",$role/text())}&lt;/ht:group&gt;&#xD;
  }&#xD;
  &lt;/ht:groups&gt;&#xD;
  } &#xD;
&lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>Final Review</htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewFinalReviewTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
         <htd:task xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                   xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                   xmlns:mdm_av_api="urn:informatica.mdm.av.api"
                   xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                   xmlns:ns3="urn:co-types.informatica.mdm"
                   name="UpdateTask">
            <htd:interface xmlns:ns="urn:informatica.mdm.av.api" xmlns:ns1="urn:informatica.mdm.av"
                           operation="processTask"
                           portType="ns1:processTask"/>
            <htd:priority>$InfaTask/mdmavxsd:taskData/mdmavxsd:priority</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $task := $ProcessTaskResponse/mdmavxsd:INFATask&#xD;
return&#xD;
&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
    &lt;ht:users&gt;&#xD;
      &lt;ht:user&gt;{concat($task/mdmavxsd:orsId/text()," ", $userName)}&lt;/ht:user&gt;&#xD;
    &lt;/ht:users&gt;&#xD;
 &lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>Update</htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewUpdateTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
         <htd:task xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                   xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                   xmlns:mdm_av_api="urn:informatica.mdm.av.api"
                   xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                   xmlns:ns3="urn:co-types.informatica.mdm"
                   name="NotificationTask">
            <htd:interface xmlns:ns1="urn:informatica.mdm.av" operation="processTask"
                           portType="ns1:processTask"/>
            <htd:priority>$InfaTask/mdmavxsd:taskData/mdmavxsd:priority</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $task := $ProcessTaskResponse/mdmavxsd:INFATask&#xD;
return&#xD;
&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
    &lt;ht:users&gt;&#xD;
      &lt;ht:user&gt;{concat($task/mdmavxsd:orsId/text()," ", $task/mdmavxsd:taskData/mdmavxsd:creator/text())}&lt;/ht:user&gt;&#xD;
    &lt;/ht:users&gt;&#xD;
 &lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>Notification </htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns1="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns1:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewNotificationTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
      </htd:tasks>
      <htd:notifications/>
   </b4p:humanInteractions>
   <bpmndi:BPMNDiagram xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                       xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                       aei:bpelDigest=""
                       aei:editStyle="BPMN"
                       aei:layoutNeeded="false"
                       aei:modelVersion="5"
                       aei:objectId="1589987157109149789"
                       aei:processInitiatorSim=""
                       isHorizontal="false">
      <bpmndi:BPMNPlane>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="1589987221028153893"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="1589987221028153893"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="1589987221028153905"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="1589987221028153905"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="1589987221029153908"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="1589987221029153908"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="1589987221029153918"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="1589987221029153918"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="159057154912811196"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="159057154912811196"/>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {395,105}" aei:absoluteSize="DIM {705,4193}"
                           aei:objectId="1589987221027153614"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221027153614"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="385" y="95"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {712,115}" aei:absoluteSize="DIM {70,60}"
                           aei:attachments=""
                           aei:name="Start"
                           aei:objectId="1589987221027153615"
                           aei:principal=""
                           aei:type="RECEIVE"
                           bpmnElement="1589987221027153615">
            <dc:Bounds height="60" width="70" x="462" y="140"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {738,172}" aei:absoluteSize="DIM {24,38}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="139022951720423045"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221027153616"
                              aei:relative.location="LOC {-19,47}"
                              aei:text="Start"
                              bpmnElement="1589987221027153615label">
               <dc:Bounds height="13" width="24" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {712,200}" aei:absoluteSize="DIM {70,60}"
                           aei:name="Reply with Process id "
                           aei:objectId="1589987221027153617"
                           aei:type="REPLY"
                           bpmnElement="1589987221027153617">
            <dc:Bounds height="60" width="70" x="653" y="172"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {704,191}" aei:absoluteSize="DIM {120,38}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="139022953260523859"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221027153618"
                              aei:relative.location="LOC {-53,-19}"
                              aei:text="Reply with Process id "
                              bpmnElement="1589987221027153617label">
               <dc:Bounds height="34" width="120" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,285}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Initialze Data"
                           aei:objectId="1589987221027153619"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153619">
            <dc:Bounds height="53" width="125" x="1" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,363}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Prepare Encrypt"
                           aei:objectId="1589987221027153626"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153626">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,441}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Encrypt Security"
                           aei:objectId="1589987221027153628"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221027153628">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,519}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Read Business Entity"
                           aei:objectId="1589987221027153629"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153629">
            <dc:Bounds height="-1" width="-1" x="675" y="347"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,597}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Read Business Entity"
                           aei:objectId="1589987221027153631"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221027153631">
            <dc:Bounds height="-1" width="-1" x="546" y="530"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,675}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Initilize Data"
                           aei:objectId="1589987221027153632"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153632">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {650,753}" aei:absoluteSize="DIM {195,490}"
                           aei:objectId="1589987221027153639"
                           aei:type="IF"
                           bpmnElement="1589987221027153639"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {763,756}" aei:absoluteSize="DIM {11,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="158940124056873949"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221027153640"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589987221027153639label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalId)"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {650,813}"
                           aei:absoluteSize="DIM {145,370}"
                           aei:objectId="1589987221027153641"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221027153639ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {700,821}" aei:absoluteSize="DIM {84,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="158940124056973953"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221027153650"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589987221027153639ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {650,842}" aei:absoluteSize="DIM {145,322}"
                           aei:objectId="1589987221027153642"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221027153642"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,852}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Get Portal Config"
                           aei:objectId="1589987221027153643"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153643">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,930}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Get Portal Config"
                           aei:objectId="1589987221027153645"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221027153645">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,1008}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Initialize Portal Data"
                           aei:objectId="1589987221027153646"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153646">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,1086}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {100,176}"
                           aei:name="Portal Record Info"
                           aei:objectId="1590219542228190844"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1590219542228190844"
                           isHorizontal="false">
            <dc:Bounds height="176" width="100" x="70" y="70"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="158983092020983689"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190996"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Portal Record Info"
                              bpmnElement="1590219542228190844label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190849" aei:type="SEQUENCE"
                           bpmnElement="1590219542228190849"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590219542228190850"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590219542228190850">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Initialize data" aei:objectId="1590219542228190851" aei:type="ASSIGN"
                           bpmnElement="1590219542228190851">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590219542228190856"
                           aei:type="ASSIGN"
                           bpmnElement="1590219542228190856">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590219542228190858"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590219542228190858">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Read BE View" aei:objectId="1590219542228190859" aei:type="ASSIGN"
                           bpmnElement="1590219542228190859">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Read BE View" aei:objectId="1590219542228190861"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590219542228190861">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190862" aei:type="IF"
                           bpmnElement="1590219542228190862"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052373285365935"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190863"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590219542228190862label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean( $ContactChildName )"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590219542228190864"
                           aei:type="ELSE_IF"
                           bpmnElement="1590219542228190862ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052373287365939"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190939"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590219542228190862ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:expanded="false" aei:expandedSize="DIM {595,1640}"
                           aei:name="User Management for one to many Child"
                           aei:objectId="1590219542228190866"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1590219542228190866"
                           isHorizontal="false">
            <dc:Bounds height="1640" width="595" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1590052426593371429"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190938"
                              aei:relative.location="LOC {0,5}"
                              aei:text="User Management for one to many Child"
                              bpmnElement="1590219542228190866label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190871" aei:type="SEQUENCE"
                           bpmnElement="1590219542228190871"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590219542228190872"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590219542228190872">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Get Potal User Ind" aei:objectId="1590219542228190873"
                           aei:type="ASSIGN"
                           bpmnElement="1590219542228190873">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190877" aei:type="IF"
                           bpmnElement="1590219542228190877"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052453559378857"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190878"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590219542228190877label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean( $ContactChildXML )"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590219542228190879"
                           aei:type="ELSE_IF"
                           bpmnElement="1590219542228190877ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052453560378861"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190929"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590219542228190877ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190881" aei:type="IF"
                           bpmnElement="1590219542228190881"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052456397380097"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190882"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590219542228190881label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ContactsCount &gt; 0"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590219542228190883"
                           aei:type="ELSE_IF"
                           bpmnElement="1590219542228190881ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052456399380101"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190925"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590219542228190881ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190885" aei:repeatCondition="$ContactsCount = 0"
                           aei:repeatFlipped="false"
                           aei:type="REPEAT_UNTIL"
                           bpmnElement="1590219542228190885">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1590052541224384955"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190886"
                              aei:relative.location="LOC {5,2}"
                              aei:text="Repeat Until"
                              bpmnElement="1590219542228190885label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190887" aei:type="SEQUENCE"
                           bpmnElement="1590219542228190887"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Initialize User Data" aei:objectId="1590219542228190888"
                           aei:type="ASSIGN"
                           bpmnElement="1590219542228190888">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Decrement Count" aei:objectId="1590219542228190923" aei:type="ASSIGN"
                           bpmnElement="1590219542228190923">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590219542228190884"
                           aei:type="Sequence"
                           bpmnElement="1590219542228190885wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190926" aei:type="ELSE"
                           bpmnElement="1590219542228190881elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052456402380107"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190928"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590219542228190881elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190927" aei:type="SEQUENCE"
                           bpmnElement="1590219542228190927"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590219542228190880"
                           aei:type="Sequence"
                           bpmnElement="1590219542228190881wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190930" aei:type="ELSE"
                           bpmnElement="1590219542228190877elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052453563378867"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190932"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590219542228190877elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190931" aei:type="SEQUENCE"
                           bpmnElement="1590219542228190931"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590219542228190933"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590219542228190933">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590219542228190865"
                           aei:type="Sequence"
                           bpmnElement="1590219542228190866wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190940" aei:type="ELSE"
                           bpmnElement="1590219542228190862elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052373290365945"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190990"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590219542228190862elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:expanded="false" aei:expandedSize="DIM {100,176}"
                           aei:name="User Management for one to one child"
                           aei:objectId="1590219542228190942"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1590219542228190942"
                           isHorizontal="false">
            <dc:Bounds height="176" width="100" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1590053168701410992"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590219542228190989"
                              aei:relative.location="LOC {0,5}"
                              aei:text="User Management for one to one child"
                              bpmnElement="1590219542228190942label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590219542228190947" aei:type="SEQUENCE"
                           bpmnElement="1590219542228190947"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590219542228190948"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590219542228190948">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Initialize User Data" aei:objectId="1590219542228190949"
                           aei:type="ASSIGN"
                           bpmnElement="1590219542228190949">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590219542228190984"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590219542228190984">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590219542228190941"
                           aei:type="Sequence"
                           bpmnElement="1590219542228190942wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590219542228190991"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590219542228190991">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {820,813}" aei:absoluteSize="DIM {25,370}"
                           aei:objectId="1589987221027153651"
                           aei:type="ELSE"
                           bpmnElement="1589987221027153639elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {831,821}" aei:absoluteSize="DIM {28,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="158940124057173959"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221027153653"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589987221027153639elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {822,842}" aei:absoluteSize="DIM {21,39}"
                           aei:objectId="1589987221027153652"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221027153652"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,1268}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Draft State"
                           aei:objectId="1589987221027153658"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221027153658">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,1346}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Draft State"
                           aei:objectId="1589987221027153663"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1589987221027153663">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,1424}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Action"
                           aei:objectId="159429658456065080"
                           aei:type="ASSIGN"
                           bpmnElement="159429658456065080">
            <dc:Bounds height="-1" width="-1" x="110" y="110"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {685,1502}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update State If Required"
                           aei:objectId="1589987221027153671"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1589987221027153671"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1589560769320353325"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153697"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update State If Required"
                              bpmnElement="1589987221027153671label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589987221028153676" aei:type="SEQUENCE"
                           bpmnElement="1589987221028153676"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589987221028153677"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589987221028153677">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589987221028153678" aei:type="IF"
                           bpmnElement="1589987221028153678"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380363"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153679"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589987221028153678label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($newState)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:objectId="1589987221028153680"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221028153678ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380367"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153688"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589987221028153678ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589987221028153681" aei:type="SEQUENCE"
                           bpmnElement="1589987221028153681"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1589987221028153682"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153682">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1589987221028153684"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153684">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Setup Update Request" aei:objectId="1589987221028153685"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153685">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Request Service"
                           aei:objectId="1589987221028153687"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153687">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589987221028153689" aei:type="ELSE"
                           bpmnElement="1589987221028153678elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380373"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153691"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589987221028153678elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589987221028153690" aei:type="SEQUENCE"
                           bpmnElement="1589987221028153690"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589987221028153692"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589987221028153692">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {650,1595}" aei:absoluteSize="DIM {195,256}"
                           aei:objectId="159429569856063150"
                           aei:type="IF"
                           bpmnElement="159429569856063150"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="130" y="130"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {763,1598}" aei:absoluteSize="DIM {11,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159348322934712605"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159429569856063151"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="159429569856063150label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$draftInd = 'Y'"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {650,1655}"
                           aei:absoluteSize="DIM {145,136}"
                           aei:objectId="159429569856063152"
                           aei:type="ELSE_IF"
                           bpmnElement="159429569856063150ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {700,1663}" aei:absoluteSize="DIM {84,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159348322934812609"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159429569856063173"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="159429569856063150ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,1694}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update draft value"
                           aei:objectId="159429569856063154"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="159429569856063154"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="159347986643108037"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159429569856063172"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update draft value"
                              bpmnElement="159429569856063154label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159429569856063159" aei:type="SEQUENCE"
                           bpmnElement="159429569856063159"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159429569856063160"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159429569856063160">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="159429569856063161"
                           aei:type="ASSIGN"
                           bpmnElement="159429569856063161">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="159429569856063163"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159429569856063163">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Update Draft State" aei:objectId="159429569856063164"
                           aei:type="ASSIGN"
                           bpmnElement="159429569856063164">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Draft State"
                           aei:objectId="159429569856063166"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159429569856063166">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159429569856063167"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159429569856063167">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {650,1684}" aei:absoluteSize="DIM {145,88}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="159429569856063153"
                           aei:type="Sequence"
                           bpmnElement="159429569856063154wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {820,1655}" aei:absoluteSize="DIM {25,136}"
                           aei:objectId="159429569856063174"
                           aei:type="ELSE"
                           bpmnElement="159429569856063150elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {831,1663}" aei:absoluteSize="DIM {28,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159348322934812615"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159429569856063176"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="159429569856063150elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {822,1684}" aei:absoluteSize="DIM {21,39}"
                           aei:objectId="159429569856063175"
                           aei:type="SEQUENCE"
                           bpmnElement="159429569856063175"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {405,1876}" aei:absoluteSize="DIM {685,1515}"
                           aei:objectId="1589987221028153698"
                           aei:type="IF"
                           bpmnElement="1589987221028153698"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {763,1879}" aei:absoluteSize="DIM {11,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1588024409345192663"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153699"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589987221028153698label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Submit'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {405,1936}"
                           aei:absoluteSize="DIM {635,1395}"
                           aei:objectId="1589987221028153700"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221028153698ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {700,1944}" aei:absoluteSize="DIM {84,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1588024409346192667"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153841"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589987221028153698ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {405,1965}" aei:absoluteSize="DIM {635,1347}"
                           aei:objectId="1589987221028153701"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153701"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,1975}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider"
                           aei:objectId="1589987221028153702"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153702">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2053}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="1589987221028153704"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153704">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2131}" aei:absoluteSize="DIM {125,53}"
                           aei:name="List Assignable Users"
                           aei:objectId="1589987221028153705"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153705">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2209}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="List Assignable Users"
                           aei:objectId="1589987221028153707"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153707">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {415,2287}" aei:absoluteSize="DIM {615,1015}"
                           aei:objectId="1589987221028153708"
                           aei:repeatCondition="$BCancelApprovedOrReject"
                           aei:repeatFlipped="false"
                           aei:type="REPEAT_UNTIL"
                           bpmnElement="1589987221028153708">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {753,3294}" aei:absoluteSize="DIM {86,19}"
                              aei:anchor.location="11"
                              aei:anchor.objectId="1587657634408204757"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153709"
                              aei:relative.location="LOC {5,2}"
                              aei:text="Repeat Until"
                              bpmnElement="1589987221028153708label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {435,2347}" aei:absoluteSize="DIM {575,915}"
                           aei:objectId="1589987221028153710"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153710"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2357}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Final Review"
                           aei:objectId="1589987221028153711"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153711">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2435}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Final Review"
                           aei:objectId="1589987221028153716"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1589987221028153716">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2513}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Action"
                           aei:objectId="1589987221028153717"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153717">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,2591}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update State If Required"
                           aei:objectId="159681159379792051"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="159681159379792051"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="30" y="30"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1589560769320353325"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681159379792077"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update State If Required"
                              bpmnElement="159681159379792051label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681159379792056" aei:type="SEQUENCE"
                           bpmnElement="159681159379792056"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159681159379792057"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159681159379792057">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681159379792058" aei:type="IF"
                           bpmnElement="159681159379792058"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380363"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681159379792059"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="159681159379792058label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($newState)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:objectId="159681159379792060"
                           aei:type="ELSE_IF"
                           bpmnElement="159681159379792058ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380367"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681159379792068"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="159681159379792058ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681159379792061" aei:type="SEQUENCE"
                           bpmnElement="159681159379792061"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="159681159379792062"
                           aei:type="ASSIGN"
                           bpmnElement="159681159379792062">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="159681159379792064"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159681159379792064">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Setup Update Request" aei:objectId="159681159379792065"
                           aei:type="ASSIGN"
                           bpmnElement="159681159379792065">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Request Service"
                           aei:objectId="159681159379792067"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159681159379792067">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681159379792069" aei:type="ELSE"
                           bpmnElement="159681159379792058elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380373"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681159379792071"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="159681159379792058elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681159379792070" aei:type="SEQUENCE"
                           bpmnElement="159681159379792070"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159681159379792072"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159681159379792072">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {445,2684}" aei:absoluteSize="DIM {555,568}"
                           aei:objectId="1589987221028153720"
                           aei:type="IF"
                           bpmnElement="1589987221028153720"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {738,2687}" aei:absoluteSize="DIM {11,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659798565208041"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153721"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589987221028153720label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Approve'"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {445,2744}"
                           aei:absoluteSize="DIM {145,448}"
                           aei:objectId="1589987221028153722"
                           aei:text="Approve"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221028153720ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {495,2752}" aei:absoluteSize="DIM {60,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659798565208045"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153759"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="Approve"
                              bpmnElement="1589987221028153720ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {445,2773}" aei:absoluteSize="DIM {145,385}"
                           aei:objectId="1589987221028153723"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153723"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {455,2783}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider Request"
                           aei:objectId="1589987221028153724"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153724">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {455,2861}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="1589987221028153726"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153726">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {455,2939}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Promote Pending Request"
                           aei:objectId="1589987221028153727"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153727">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {455,3017}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Promote Pending"
                           aei:objectId="1589987221028153729"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153729">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {455,3095}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Approve"
                           aei:objectId="1589987221028153730"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153730">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Send Back'"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {615,2744}"
                           aei:absoluteSize="DIM {145,448}"
                           aei:objectId="1589987221028153760"
                           aei:text="Send Back"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221028153760">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {665,2752}" aei:absoluteSize="DIM {72,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659874005208133"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153827"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="Send Back"
                              bpmnElement="1589987221028153760label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {615,2773}" aei:absoluteSize="DIM {145,400}"
                           aei:objectId="1589987221028153761"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153761"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {625,2783}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Update"
                           aei:objectId="1589987221028153789"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153789">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {625,2861}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Update"
                           aei:objectId="1589987221028153794"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1589987221028153794">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {625,2939}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Cancel if Needed"
                           aei:objectId="1589987221028153795"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153795">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {625,3017}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Actions"
                           aei:objectId="1589987221028153797"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153797">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {625,3095}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update State If Required"
                           aei:objectId="159681160826595695"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="159681160826595695"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1589560769320353325"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681160826595721"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update State If Required"
                              bpmnElement="159681160826595695label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681160826595700" aei:type="SEQUENCE"
                           bpmnElement="159681160826595700"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159681160826595701"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159681160826595701">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681160826595702" aei:type="IF"
                           bpmnElement="159681160826595702"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380363"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681160826595703"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="159681160826595702label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($newState)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:objectId="159681160826595704"
                           aei:type="ELSE_IF"
                           bpmnElement="159681160826595702ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380367"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681160826595712"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="159681160826595702ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681160826595705" aei:type="SEQUENCE"
                           bpmnElement="159681160826595705"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="159681160826595706"
                           aei:type="ASSIGN"
                           bpmnElement="159681160826595706">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="159681160826595708"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159681160826595708">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Setup Update Request" aei:objectId="159681160826595709"
                           aei:type="ASSIGN"
                           bpmnElement="159681160826595709">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Request Service"
                           aei:objectId="159681160826595711"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159681160826595711">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681160826595713" aei:type="ELSE"
                           bpmnElement="159681160826595702elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380373"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159681160826595715"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="159681160826595702elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159681160826595714" aei:type="SEQUENCE"
                           bpmnElement="159681160826595714"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159681160826595716"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159681160826595716">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {785,2744}" aei:absoluteSize="DIM {215,448}"
                           aei:objectId="1589987221028153828"
                           aei:type="ELSE"
                           bpmnElement="1589987221028153720elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {891,2752}" aei:absoluteSize="DIM {28,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659798565208051"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153840"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589987221028153720elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {795,2783}" aei:absoluteSize="DIM {195,241}"
                           aei:objectId="1589987221028153830"
                           aei:type="IF"
                           bpmnElement="1589987221028153830"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {908,2786}" aei:absoluteSize="DIM {11,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587660884064215961"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153831"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589987221028153830label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Reject'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {795,2843}"
                           aei:absoluteSize="DIM {145,121}"
                           aei:objectId="1589987221028153832"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221028153830ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {845,2851}" aei:absoluteSize="DIM {84,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587660884064215965"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153836"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589987221028153830ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {805,2882}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Reject"
                           aei:objectId="1589987221028153834"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153834">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {795,2872}" aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="1589987221028153833"
                           aei:type="Sequence"
                           bpmnElement="1589987221028153834wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {965,2843}" aei:absoluteSize="DIM {25,121}"
                           aei:objectId="1589987221028153837"
                           aei:type="ELSE"
                           bpmnElement="1589987221028153830elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {976,2851}" aei:absoluteSize="DIM {28,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587660884065215971"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153839"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589987221028153830elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {967,2872}" aei:absoluteSize="DIM {21,39}"
                           aei:objectId="1589987221028153838"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153838"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {785,2773}" aei:absoluteSize="DIM {215,261}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="1589987221028153829"
                           aei:type="Sequence"
                           bpmnElement="1589987221028153830wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1065,1936}" aei:absoluteSize="DIM {25,1395}"
                           aei:objectId="1589987221028153842"
                           aei:type="ELSE"
                           bpmnElement="1589987221028153698elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1076,1944}" aei:absoluteSize="DIM {28,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1588024409348192673"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153844"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589987221028153698elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1067,1965}" aei:absoluteSize="DIM {21,39}"
                           aei:objectId="1589987221028153843"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153843"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {650,3416}" aei:absoluteSize="DIM {195,787}"
                           aei:objectId="1589987221028153845"
                           aei:type="IF"
                           bpmnElement="1589987221028153845"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {763,3419}" aei:absoluteSize="DIM {11,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587661892892225184"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153846"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589987221028153845label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Cancel' or $ProcessTaskResponse/mdmavxsd:actionName/text()='Reject' or&#xD;&#xA;$ProcessTaskResponse/mdmavxsd:actionName/text()='Discard'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {650,3476}"
                           aei:absoluteSize="DIM {145,667}"
                           aei:objectId="1589987221028153847"
                           aei:type="ELSE_IF"
                           bpmnElement="1589987221028153845ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {700,3484}" aei:absoluteSize="DIM {84,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587661892892225188"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153855"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589987221028153845ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {650,3505}" aei:absoluteSize="DIM {145,619}"
                           aei:objectId="1589987221028153848"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153848"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3515}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider Request"
                           aei:objectId="1589987221028153849"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153849">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3593}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="1589987221028153851"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153851">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3671}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Delete Pending Request"
                           aei:objectId="1589987221028153852"
                           aei:type="ASSIGN"
                           bpmnElement="1589987221028153852">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3749}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Delete Pending"
                           aei:objectId="1589987221028153854"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589987221028153854">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3827}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider"
                           aei:objectId="159057127328405366"
                           aei:type="ASSIGN"
                           bpmnElement="159057127328405366">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3905}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="159057127328405368"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159057127328405368">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,3983}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Delete User"
                           aei:objectId="159057127328405369"
                           aei:type="ASSIGN"
                           bpmnElement="159057127328405369">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {660,4061}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Delete User"
                           aei:objectId="159057127328405371"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159057127328405371">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {820,3476}" aei:absoluteSize="DIM {25,667}"
                           aei:objectId="1589987221028153856"
                           aei:type="ELSE"
                           bpmnElement="1589987221028153845elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {831,3484}" aei:absoluteSize="DIM {28,19}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587661892892225194"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589987221028153858"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589987221028153845elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {822,3505}" aei:absoluteSize="DIM {21,39}"
                           aei:objectId="1589987221028153857"
                           aei:type="SEQUENCE"
                           bpmnElement="1589987221028153857"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {712,4228}" aei:absoluteSize="DIM {70,60}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589987221028153874"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589987221028153874">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
      </bpmndi:BPMNPlane>
   </bpmndi:BPMNDiagram>
   <bpel:extensions>
      <bpel:extension mustUnderstand="no"
                      namespace="http://www.activebpel.org/2009/02/bpel/extension/ignorable"/>
      <bpel:extension mustUnderstand="no" namespace="http://www.omg.org/spec/BPMN/20100524/DI"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2006/09/bpel/extension/query_handling"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2009/06/bpel/extension/links"/>
      <bpel:extension mustUnderstand="yes" namespace="http://www.example.org/WS-HT"/>
      <bpel:extension mustUnderstand="yes" namespace="http://www.example.org/BPEL4People"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2011/08/bpel/extension/script"/>
   </bpel:extensions>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                location="../wsdl/mdm_avos_pl.wsdl"
                namespace="http://www.informatica.com/activevos/mdmworkflow/wsdl/mdmavospl"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/" location="../wsdl/mdm_avos.wsdl"
                namespace="urn:informatica.mdm.av"/>
   <bpel:import importType="http://www.w3.org/2001/XMLSchema"
                location="../schema/av_config.xsd"
                namespace="http://www.informatica.com/schema/1.0/av_config.xsd"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                location="../wsdl/SecurityPayloadGeneratorInterface/securitypayloadgeneratorinterface.wsdl"
                namespace="urn:security:payload:securitypayloadgeneratorinterface"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                namespace="http://www.activebpel.org/REST/2007/12/01/aeREST.wsdl"/>
   <bpel:import importType="http://modules.active-endpoints.com/2009/07/xquery"
                location="../xquery/infa-configuration.xq"
                namespace="http://informatica.com/modules/configuration/1.0/xquery"/>
   <bpel:partnerLinks>
      <bpel:partnerLink aei:id="1589987221028153893" myRole="Provider" name="CreatePortal"
                        partnerLinkType="mdm_avos_pl:IDDWorkflowPLT"/>
      <bpel:partnerLink aei:id="1589987221028153905" name="SecurityProvider"
                        partnerLinkType="securitypayloadgeneratorinterface:SecurityPayloadGeneratorInterfacePLT"
                        partnerRole="java"/>
      <bpel:partnerLink aei:id="1589987221029153908" name="CSRest" partnerLinkType="aeREST:RESTPLT"
                        partnerRole="process"/>
      <bpel:partnerLink aei:id="1589987221029153918" name="PortalRestProvider"
                        partnerLinkType="aeREST:RESTPLT"
                        partnerRole="process"/>
      <bpel:partnerLink aei:id="159057154912811196" name="UserRestProvider"
                        partnerLinkType="aeREST:RESTPLT"
                        partnerRole="process"/>
   </bpel:partnerLinks>
   <bpel:variables>
      <bpel:variable element="mdmavxsd:startProcessRequest" name="startProcessRequest"/>
      <bpel:variable name="InfaTask" type="mdmavxsd:INFATask"/>
      <bpel:variable element="mdmavxsd:processTaskResponse" name="ProcessTaskResponse"/>
      <bpel:variable name="TaskRecordsCount" type="xsd:int"/>
      <bpel:variable name="AdminHubUserName" type="xsd:string"/>
      <bpel:variable element="cfg:configuration" name="getConfig"/>
      <bpel:variable element="securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest"
                     name="getEncryptedSecurityPayloadRest"/>
      <bpel:variable element="securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRestResponse"
                     name="getEncryptedSecurityPayloadRestResponse"/>
      <bpel:variable element="rest:RESTRequest" name="RESTRequest"/>
      <bpel:variable element="rest:RESTResponse" name="ReadBERESTResponse"/>
      <bpel:variable name="createDate" type="xsd:string"/>
      <bpel:variable name="isUpdate" type="xsd:boolean">
         <bpel:from>false()</bpel:from>
      </bpel:variable>
      <bpel:variable name="portalId" type="xsd:string"/>
      <bpel:variable name="currentState" type="xsd:string"/>
      <bpel:variable name="portalStatus" type="xsd:string"/>
      <bpel:variable name="draftInd" type="xsd:string"/>
      <bpel:variable element="rest:RESTResponse" name="PortalConfigResponse"/>
      <bpel:variable name="PortalConfigXMLString" type="xsd:string"/>
      <bpel:variable name="PortalConfigResponseXML" type="xsd:anyType"/>
      <bpel:variable name="isStateEnabled" type="xsd:boolean">
         <bpel:from>false()</bpel:from>
      </bpel:variable>
      <bpel:variable element="mdmavxsd:processTaskRequest" name="ProcessTaskRequest"/>
      <bpel:variable name="actionName" type="xsd:string"/>
      <bpel:variable name="newState" type="xsd:string"/>
      <bpel:variable element="rest:RESTResponse" name="RESTResponse"/>
      <bpel:variable element="rest:RESTResponse" name="AssignableUsersResponse"/>
      <bpel:variable name="BCancelApprovedOrReject" type="xsd:boolean">
         <bpel:from>
            <bpel:literal>false</bpel:literal>
         </bpel:from>
      </bpel:variable>
      <bpel:variable name="BEViewName" type="xsd:string"/>
      <bpel:variable name="ContactChildName" type="xsd:string"/>
      <bpel:variable name="PasswordPolicy" type="xsd:string"/>
      <bpel:variable name="portalUserIndPath" type="xsd:string"/>
      <bpel:variable element="rest:RESTResponse" name="ReadBEViewResponse"/>
      <bpel:variable name="ContactChildXMLString" type="xsd:string"/>
      <bpel:variable name="ContactChildXML" type="xsd:anyType"/>
      <bpel:variable name="ContactsCount" type="xsd:int">
         <bpel:from>
            <bpel:literal>0</bpel:literal>
         </bpel:from>
      </bpel:variable>
      <bpel:variable name="firstName" type="xsd:string"/>
      <bpel:variable name="lastName" type="xsd:string"/>
      <bpel:variable name="userName" type="xsd:string"/>
      <bpel:variable name="email" type="xsd:string"/>
      <bpel:variable name="portalUserInd" type="xsd:string"/>
      <bpel:variable name="fullNameOrCompanyName" type="xsd:string"/>
      <bpel:variable name="sourceSystemPortal" type="xsd:string"/>
   </bpel:variables>
   <bpel:sequence aei:id="1589987221027153614">
      <bpel:receive aei:id="1589987221027153615" createInstance="yes" name="Start"
                    operation="start"
                    partnerLink="CreatePortal"
                    variable="startProcessRequest"/>
      <bpel:scope aei:implicit="true" name="Reply_with_Process_id_">
         <bpel:variables>
            <bpel:variable messageType="mdm_avos:startProcessResponse" name="parameters"/>
         </bpel:variables>
         <bpel:sequence>
            <bpel:assign aei:assignType="XQUERY" aei:id="1577001567147392575">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;types1:startProcessResponse xmlns:types1="urn:informatica.mdm.av.xsd"&gt;
   &lt;types1:processId&gt;{ abx:getProcessId() }&lt;/types1:processId&gt;
&lt;/types1:startProcessResponse&gt;
</bpel:from>
                  <bpel:to part="startProcessResponse" variable="parameters"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:reply aei:id="1589987221027153617" name="Reply_with_Process_id_" operation="start"
                        partnerLink="CreatePortal"
                        variable="parameters"/>
         </bpel:sequence>
      </bpel:scope>
      <bpel:assign aei:id="1589987221027153619" name="Initialze_Data">
         <bpel:copy>
            <bpel:from variable="startProcessRequest">
               <bpel:query>mdmavxsd:INFATask</bpel:query>
            </bpel:from>
            <bpel:to variable="InfaTask"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from variable="startProcessRequest">
               <bpel:query>mdmavxsd:INFATask</bpel:query>
            </bpel:from>
            <bpel:to variable="ProcessTaskResponse">
               <bpel:query>mdmavxsd:INFATask</bpel:query>
            </bpel:to>
         </bpel:copy>
         <bpel:copy>
            <bpel:from variable="startProcessRequest">
               <bpel:query>count(mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey)</bpel:query>
            </bpel:from>
            <bpel:to variable="TaskRecordsCount"/>
         </bpel:copy>
         <bpel:extensionAssignOperation>
            <ext2:script>abx:copyAllAttachments( 'startProcessRequest' , '_peopleActivityAttachments' )</ext2:script>
         </bpel:extensionAssignOperation>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</bpel:from>
            <bpel:to variable="AdminHubUserName"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">abx:getCatalogResource("project:/InfaPortalWorkflows/config/configuration.xml")</bpel:from>
            <bpel:to variable="getConfig"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:assign aei:id="1589987221027153626" name="Prepare_Encrypt">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "readEntityUsingGET" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
            <bpel:to variable="getEncryptedSecurityPayloadRest"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:invoke aei:id="1589987221027153628" inputVariable="getEncryptedSecurityPayloadRest"
                   name="Encrypt_Security"
                   operation="getEncryptedSecurityPayloadRest"
                   outputVariable="getEncryptedSecurityPayloadRestResponse"
                   partnerLink="SecurityProvider"/>
      <bpel:assign aei:id="1589987221027153629" name="Read_Business_Entity">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="readSystemFields" value="true"/&gt;
&lt;rest:param name="recordStates" value="ACTIVE,PENDING"/&gt;
&lt;rest:param name="depth" value="10"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
            <bpel:to variable="RESTRequest"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:invoke aei:id="1589987221027153631" inputVariable="RESTRequest"
                   name="Read_Business_Entity"
                   operation="requestResponse"
                   outputVariable="ReadBERESTResponse"
                   partnerLink="CSRest"/>
      <bpel:assign aei:id="1589987221027153632" name="Initilize_Data">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">current-dateTime()</bpel:from>
            <bpel:to variable="createDate"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">if ($ReadBERESTResponse/rest:payload/*/ns2:hubStateInd/text()='1') then ( true() ) else ( false() )</bpel:from>
            <bpel:to variable="isUpdate"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue(abx:elementToXMLString($ReadBERESTResponse/rest:payload),cfgx:getPropertyValue( $getConfig,"portal.portalId.path" ))</bpel:from>
            <bpel:to variable="portalId"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,"portal.DefaultState" )</bpel:from>
            <bpel:to variable="currentState"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue(abx:elementToXMLString($ReadBERESTResponse/rest:payload),cfgx:getPropertyValue( $getConfig,"portal.statepath" ))</bpel:from>
            <bpel:to variable="portalStatus"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue(abx:elementToXMLString($ReadBERESTResponse/rest:payload),cfgx:getPropertyValue( $getConfig,"portal.draft.path" ))</bpel:from>
            <bpel:to variable="draftInd"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue(abx:elementToXMLString($ReadBERESTResponse/rest:payload),cfgx:getPropertyValue( $getConfig,"portal.fullname.path" ))</bpel:from>
            <bpel:to variable="fullNameOrCompanyName"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:if aei:id="1589987221027153639">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean($portalId)</bpel:condition>
         <bpel:sequence aei:id="1589987221027153642">
            <bpel:assign aei:id="1589987221027153643" name="Get_Portal_Config">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/global/portals/",$portalId,"?projections=generalSettings")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1589987221027153645" inputVariable="RESTRequest"
                         name="Get_Portal_Config"
                         operation="requestResponse"
                         outputVariable="PortalConfigResponse"
                         partnerLink="PortalRestProvider"/>
            <bpel:assign aei:id="1589987221027153646" name="Initialize_Portal_Data">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:jsonToXML( string($PortalConfigResponse/rest:payload/text()) )</bpel:from>
                  <bpel:to variable="PortalConfigXMLString"/>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from>abx:xmlStringToElement( $PortalConfigXMLString )</bpel:from>
                  <bpel:to variable="PortalConfigResponseXML"/>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$PortalConfigResponseXML/isStateEnabled</bpel:from>
                  <bpel:to variable="isStateEnabled"/>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$PortalConfigResponseXML/sourceSystem</bpel:from>
                  <bpel:to variable="sourceSystemPortal"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:scope aei:id="1590219542228190844" name="Portal_Record_Info">
               <bpel:sequence aei:id="1590219542228190849">
                  <bpel:empty aei:id="1590219542228190850"/>
                  <bpel:assign aei:id="1590219542228190851" name="Initialize_data">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$PortalConfigResponseXML/userManagement/bevName/text()</bpel:from>
                        <bpel:to variable="BEViewName"/>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">if( contains($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text(),".") ) then (tokenize($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text(),"\.")[1]) else (string(''))</bpel:from>
                        <bpel:to variable="ContactChildName"/>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat('"passwordPolicy":{"maximumPasswordLength":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.maximumPasswordLength' ) ,',"minimumPasswordLength":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.minimumPasswordLength' ),',"minimumUniqueCharacters":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.minimumUniqueCharacters'),',"patternValidationEnabled":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.patternValidationEnabled' ),',"passwordBeginningPattern":"',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.passwordBeginningPattern' ),'","passwordMiddlePattern":"',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.passwordMiddlePattern' ),'","passwordEndPattern":"',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.passwordEndPattern' ),'"}')</bpel:from>
                        <bpel:to variable="PasswordPolicy"/>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat('portal.', $BEViewName,'.userInd.path') )</bpel:from>
                        <bpel:to variable="portalUserIndPath"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:assign aei:id="1590219542228190856" name="Security_Provider">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "readEntityUsingGET" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                        <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke aei:id="1590219542228190858" inputVariable="getEncryptedSecurityPayloadRest"
                               name="Security_Provider"
                               operation="getEncryptedSecurityPayloadRest"
                               outputVariable="getEncryptedSecurityPayloadRestResponse"
                               partnerLink="SecurityProvider"/>
                  <bpel:assign aei:id="1590219542228190859" name="Read_BE_View">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/', $BEViewName ,'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="readSystemFields" value="true"/&gt;
&lt;rest:param name="recordStates" value="ACTIVE,PENDING"/&gt;
&lt;rest:param name="depth" value="10"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                        <bpel:to variable="RESTRequest"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke aei:id="1590219542228190861" inputVariable="RESTRequest" name="Read_BE_View"
                               operation="requestResponse"
                               outputVariable="ReadBEViewResponse"
                               partnerLink="CSRest"/>
                  <bpel:if aei:id="1590219542228190862">
                     <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean( $ContactChildName )</bpel:condition>
                     <bpel:scope aei:id="1590219542228190866" name="User_Management_for_one_to_many_Child">
                        <bpel:sequence aei:id="1590219542228190871">
                           <bpel:empty aei:id="1590219542228190872"/>
                           <bpel:assign aei:id="1590219542228190873" name="Get_Potal_User_Ind">
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getNodeValue( abx:elementToXMLString($ReadBEViewResponse/rest:payload), $ContactChildName )</bpel:from>
                                 <bpel:to variable="ContactChildXMLString"/>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">abx:xmlStringToElement( $ContactChildXMLString )</bpel:from>
                                 <bpel:to variable="ContactChildXML"/>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">count($ContactChildXML/ns4:item)</bpel:from>
                                 <bpel:to variable="ContactsCount"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:if aei:id="1590219542228190877">
                              <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean( $ContactChildXML )</bpel:condition>
                              <bpel:if aei:id="1590219542228190881">
                                 <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ContactsCount &gt; 0</bpel:condition>
                                 <bpel:repeatUntil aei:id="1590219542228190885">
                                    <bpel:condition>$ContactsCount = 0</bpel:condition>
                                    <bpel:sequence aei:id="1590219542228190887">
                                       <bpel:assign aei:id="1590219542228190888" name="Initialize_User_Data">
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath( string( $PortalConfigResponseXML/userManagement/fieldMapping/firstName/code/text()), $ContactChildName ), false() )</bpel:from>
                                             <bpel:to variable="firstName"/>
                                          </bpel:copy>
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath(string($PortalConfigResponseXML/userManagement/fieldMapping/lastName/code/text()), $ContactChildName), false() )</bpel:from>
                                             <bpel:to variable="lastName"/>
                                          </bpel:copy>
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath(string($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text()), $ContactChildName ), false() )</bpel:from>
                                             <bpel:to variable="userName"/>
                                          </bpel:copy>
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath(string($PortalConfigResponseXML/userManagement/fieldMapping/email/code/text()), $ContactChildName ) , false() )</bpel:from>
                                             <bpel:to variable="email"/>
                                          </bpel:copy>
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath( string( $portalUserIndPath ), $ContactChildName ), false() )</bpel:from>
                                             <bpel:to variable="portalUserInd"/>
                                          </bpel:copy>
                                       </bpel:assign>
                                       <bpel:assign aei:id="1590219542228190923" name="Decrement_Count">
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ContactsCount - 1</bpel:from>
                                             <bpel:to variable="ContactsCount"/>
                                          </bpel:copy>
                                       </bpel:assign>
                                    </bpel:sequence>
                                 </bpel:repeatUntil>
                                 <bpel:else aei:id="1590219542228190926">
                                    <bpel:empty aei:id="1590219542228190927" aei:implicit="yes"/>
                                 </bpel:else>
                              </bpel:if>
                              <bpel:else aei:id="1590219542228190930">
                                 <bpel:empty aei:id="1590219542228190931" aei:implicit="yes"/>
                              </bpel:else>
                           </bpel:if>
                           <bpel:empty aei:id="1590219542228190933"/>
                        </bpel:sequence>
                     </bpel:scope>
                     <bpel:else aei:id="1590219542228190940">
                        <bpel:scope aei:id="1590219542228190942" name="User_Management_for_one_to_one_child">
                           <bpel:sequence aei:id="1590219542228190947">
                              <bpel:empty aei:id="1590219542228190948"/>
                              <bpel:assign aei:id="1590219542228190949" name="Initialize_User_Data">
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/firstName/code/text()) )</bpel:from>
                                    <bpel:to variable="firstName"/>
                                 </bpel:copy>
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/lastName/code/text()) )</bpel:from>
                                    <bpel:to variable="lastName"/>
                                 </bpel:copy>
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text()) )</bpel:from>
                                    <bpel:to variable="userName"/>
                                 </bpel:copy>
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/email/code/text()) )</bpel:from>
                                    <bpel:to variable="email"/>
                                 </bpel:copy>
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($portalUserIndPath) )</bpel:from>
                                    <bpel:to variable="portalUserInd"/>
                                 </bpel:copy>
                              </bpel:assign>
                              <bpel:empty aei:id="1590219542228190984"/>
                           </bpel:sequence>
                        </bpel:scope>
                     </bpel:else>
                  </bpel:if>
                  <bpel:empty aei:id="1590219542228190991"/>
               </bpel:sequence>
            </bpel:scope>
         </bpel:sequence>
         <bpel:else aei:id="1589987221027153651">
            <bpel:empty aei:id="1589987221027153652" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:assign aei:id="1589987221027153658" name="Setup_Draft_State">
         <bpel:copy>
            <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
            <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
    &lt;mdmavxsd:name&gt;AVOSBeDraftState&lt;/mdmavxsd:name&gt;
    &lt;mdmavxsd:displayName&gt;Draft State&lt;/mdmavxsd:displayName&gt;
    &lt;mdmavxsd:description&gt;Draft State step in the workflow&lt;/mdmavxsd:description&gt;
    &lt;mdmavxsd:pendingBVT&gt;true&lt;/mdmavxsd:pendingBVT&gt;
    &lt;mdmavxsd:dataUpdateType&gt;PENDING&lt;/mdmavxsd:dataUpdateType&gt;
    &lt;mdmavxsd:defaultApproval&gt;true&lt;/mdmavxsd:defaultApproval&gt;
    &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
&lt;/mdmavxsd:taskType&gt;</bpel:from>
            <bpel:to expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Submit&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeFinalReview&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Discard&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
&lt;/mdmavxsd:actions&gt;</bpel:from>
            <bpel:to variable="ProcessTaskRequest">
               <bpel:query>mdmavxsd:INFATask/mdmavxsd:actions</bpel:query>
            </bpel:to>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">count( $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey)</bpel:from>
            <bpel:to variable="TaskRecordsCount"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:extensionActivity>
         <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                             aei:id="1589987221027153663"
                             inputVariable="ProcessTaskRequest"
                             name="Draft_State"
                             outputVariable="ProcessTaskResponse">
            <b4p:localTask xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                           xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                           xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                           xmlns:ns3="urn:co-types.informatica.mdm"
                           reference="DraftState">
               <htd:peopleAssignments/>
            </b4p:localTask>
            <b4p:attachmentPropagation fromProcess="all" toProcess="newOnly"/>
         </b4p:peopleActivity>
      </bpel:extensionActivity>
      <bpel:assign aei:id="159429658456065080" name="Assign_Action">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat($ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text() ,",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###")</bpel:from>
            <bpel:to variable="actionName"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat("portal.", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text(),".",$ProcessTaskResponse/mdmavxsd:actionName/text()))</bpel:from>
            <bpel:to variable="newState"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:scope aei:id="1589987221027153671" name="Update_State_If_Required">
         <bpel:sequence aei:id="1589987221028153676">
            <bpel:empty aei:id="1589987221028153677"/>
            <bpel:if aei:id="1589987221028153678">
               <bpel:condition>boolean($newState)</bpel:condition>
               <bpel:sequence aei:id="1589987221028153681">
                  <bpel:assign aei:id="1589987221028153682" name="Security_Provider">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text()}&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{"updateEntityUsingPOST"}&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{"avos"}&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{cfgx:getPropertyValue($getConfig,'hub.admin.user')}&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                        <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke aei:id="1589987221028153684" inputVariable="getEncryptedSecurityPayloadRest"
                               name="Security_Provider"
                               operation="getEncryptedSecurityPayloadRest"
                               outputVariable="getEncryptedSecurityPayloadRestResponse"
                               partnerLink="SecurityProvider"/>
                  <bpel:assign aei:id="1589987221028153685" name="Setup_Update_Request">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/state/",$portalId,"?systemName=", $sourceSystemPortal )}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","portalState":"{$newState}","interactionId":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}"}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                        <bpel:to variable="RESTRequest"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke aei:id="1589987221028153687" inputVariable="RESTRequest"
                               name="Update_Request_Service"
                               operation="requestResponse"
                               outputVariable="RESTResponse"
                               partnerLink="PortalRestProvider"/>
               </bpel:sequence>
               <bpel:else aei:id="1589987221028153689">
                  <bpel:empty aei:id="1589987221028153690" aei:implicit="yes"/>
               </bpel:else>
            </bpel:if>
            <bpel:empty aei:id="1589987221028153692"/>
         </bpel:sequence>
      </bpel:scope>
      <bpel:if aei:id="159429569856063150">
         <bpel:condition>$draftInd = 'Y'</bpel:condition>
         <bpel:scope aei:id="159429569856063154" name="Update_draft_value">
            <bpel:sequence aei:id="159429569856063159">
               <bpel:empty aei:id="159429569856063160"/>
               <bpel:assign aei:id="159429569856063161" name="Security_Provider">
                  <bpel:copy>
                     <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "updateEntityUsingPOST" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                     <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                  </bpel:copy>
               </bpel:assign>
               <bpel:invoke aei:id="159429569856063163" inputVariable="getEncryptedSecurityPayloadRest"
                            name="Security_Provider"
                            operation="getEncryptedSecurityPayloadRest"
                            outputVariable="getEncryptedSecurityPayloadRestResponse"
                            partnerLink="SecurityProvider"/>
               <bpel:assign aei:id="159429569856063164" name="Update_Draft_State">
                  <bpel:copy>
                     <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text(),'?','systemName=', $sourceSystemPortal ,'&amp;amp;','interactionId=',$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="systemName" value="{ $sourceSystemPortal }"/&gt;
&lt;rest:param name="interactionId" value="{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","{cfgx:getPropertyValue( $getConfig,"portal.draft.path" )}":"N","$original":{{"{cfgx:getPropertyValue( $getConfig,"portal.draft.path" )}":"Y"}}}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                     <bpel:to variable="RESTRequest"/>
                  </bpel:copy>
               </bpel:assign>
               <bpel:invoke aei:id="159429569856063166" inputVariable="RESTRequest"
                            name="Update_Draft_State"
                            operation="requestResponse"
                            outputVariable="RESTResponse"
                            partnerLink="CSRest"/>
               <bpel:empty aei:id="159429569856063167"/>
            </bpel:sequence>
         </bpel:scope>
         <bpel:else aei:id="159429569856063174">
            <bpel:empty aei:id="159429569856063175" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:if aei:id="1589987221028153698">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text()='Submit'</bpel:condition>
         <bpel:sequence aei:id="1589987221028153701">
            <bpel:assign aei:id="1589987221028153702" name="Security_Provider">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "listAssignableUsersUsingGet" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                  <bpel:to variable="getEncryptedSecurityPayloadRest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1589987221028153704" inputVariable="getEncryptedSecurityPayloadRest"
                         name="Security_Provider"
                         operation="getEncryptedSecurityPayloadRest"
                         outputVariable="getEncryptedSecurityPayloadRestResponse"
                         partnerLink="SecurityProvider"/>
            <bpel:assign aei:id="1589987221028153705" name="List_Assignable_Users">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/user')}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="taskType" value="AVOSBeFinalReview"/&gt;
&lt;rest:param name="businessEntity" value="{$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1589987221028153707" inputVariable="RESTRequest"
                         name="List_Assignable_Users"
                         operation="requestResponse"
                         outputVariable="AssignableUsersResponse"
                         partnerLink="CSRest"/>
            <bpel:repeatUntil aei:id="1589987221028153708">
               <bpel:condition>$BCancelApprovedOrReject</bpel:condition>
               <bpel:sequence aei:id="1589987221028153710">
                  <bpel:assign aei:id="1589987221028153711" name="Setup_Final_Review">
                     <bpel:copy>
                        <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
                        <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
    &lt;mdmavxsd:name&gt;AVOSBeFinalReview&lt;/mdmavxsd:name&gt;
    &lt;mdmavxsd:displayName&gt;Final Review&lt;/mdmavxsd:displayName&gt;
    &lt;mdmavxsd:description&gt;Final Review step in the workflow&lt;/mdmavxsd:description&gt;
    &lt;mdmavxsd:pendingBVT&gt;true&lt;/mdmavxsd:pendingBVT&gt;
    &lt;mdmavxsd:dataUpdateType&gt;PENDING&lt;/mdmavxsd:dataUpdateType&gt;
    &lt;mdmavxsd:defaultApproval&gt;true&lt;/mdmavxsd:defaultApproval&gt;
    &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
&lt;/mdmavxsd:taskType&gt;</bpel:from>
                        <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Approve&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeNotification&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Reject&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Disclaim&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;true&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeFinalReview&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
    &lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Send Back&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeUpdate&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
&lt;/mdmavxsd:actions&gt;</bpel:from>
                        <bpel:to variable="ProcessTaskRequest">
                           <bpel:query>mdmavxsd:INFATask/mdmavxsd:actions</bpel:query>
                        </bpel:to>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from>count( $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey)</bpel:from>
                        <bpel:to variable="TaskRecordsCount"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:extensionActivity>
                     <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                                         aei:id="1589987221028153716"
                                         inputVariable="ProcessTaskRequest"
                                         name="Final_Review"
                                         outputVariable="ProcessTaskResponse">
                        <b4p:localTask xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                                       xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                                       xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                                       xmlns:ns3="urn:co-types.informatica.mdm"
                                       reference="FinalReviewTask">
                           <htd:peopleAssignments/>
                        </b4p:localTask>
                        <b4p:attachmentPropagation fromProcess="all" toProcess="newOnly"/>
                     </b4p:peopleActivity>
                  </bpel:extensionActivity>
                  <bpel:assign aei:id="1589987221028153717" name="Assign_Action">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat($ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text() ,",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###")</bpel:from>
                        <bpel:to variable="actionName"/>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat("portal.", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text(),".",$ProcessTaskResponse/mdmavxsd:actionName/text()))</bpel:from>
                        <bpel:to variable="newState"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:scope aei:id="159681159379792051" name="Update_State_If_Required">
                     <bpel:sequence aei:id="159681159379792056">
                        <bpel:empty aei:id="159681159379792057"/>
                        <bpel:if aei:id="159681159379792058">
                           <bpel:condition>boolean($newState)</bpel:condition>
                           <bpel:sequence aei:id="159681159379792061">
                              <bpel:assign aei:id="159681159379792062" name="Security_Provider">
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text()}&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{"updateEntityUsingPOST"}&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{"avos"}&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{cfgx:getPropertyValue($getConfig,'hub.admin.user')}&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                    <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                 </bpel:copy>
                              </bpel:assign>
                              <bpel:invoke aei:id="159681159379792064" inputVariable="getEncryptedSecurityPayloadRest"
                                           name="Security_Provider"
                                           operation="getEncryptedSecurityPayloadRest"
                                           outputVariable="getEncryptedSecurityPayloadRestResponse"
                                           partnerLink="SecurityProvider"/>
                              <bpel:assign aei:id="159681159379792065" name="Setup_Update_Request">
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/state/",$portalId,"?systemName=", $sourceSystemPortal )}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","portalState":"{$newState}","interactionId":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}"}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                    <bpel:to variable="RESTRequest"/>
                                 </bpel:copy>
                              </bpel:assign>
                              <bpel:invoke aei:id="159681159379792067" inputVariable="RESTRequest"
                                           name="Update_Request_Service"
                                           operation="requestResponse"
                                           outputVariable="RESTResponse"
                                           partnerLink="PortalRestProvider"/>
                           </bpel:sequence>
                           <bpel:else aei:id="159681159379792069">
                              <bpel:empty aei:id="159681159379792070" aei:implicit="yes"/>
                           </bpel:else>
                        </bpel:if>
                        <bpel:empty aei:id="159681159379792072"/>
                     </bpel:sequence>
                  </bpel:scope>
                  <bpel:if aei:id="1589987221028153720">
                     <bpel:condition>$ProcessTaskResponse/mdmavxsd:actionName/text()='Approve'</bpel:condition>
                     <bpel:sequence aei:id="1589987221028153723">
                        <bpel:assign aei:id="1589987221028153724" name="Security_Provider_Request">
                           <bpel:copy>
                              <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "promoteUsingPost" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                              <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                           </bpel:copy>
                        </bpel:assign>
                        <bpel:invoke aei:id="1589987221028153726" inputVariable="getEncryptedSecurityPayloadRest"
                                     name="Security_Provider"
                                     operation="getEncryptedSecurityPayloadRest"
                                     outputVariable="getEncryptedSecurityPayloadRestResponse"
                                     partnerLink="SecurityProvider"/>
                        <bpel:assign aei:id="1589987221028153727" name="Promote_Pending_Request">
                           <bpel:copy>
                              <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
  &lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text(),'?action=promote','&amp;amp;','interactionId=',$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="action" value="promote"/&gt;
&lt;rest:param name="interactionId" value="{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                              <bpel:to variable="RESTRequest"/>
                           </bpel:copy>
                        </bpel:assign>
                        <bpel:invoke aei:id="1589987221028153729" inputVariable="RESTRequest" name="Promote_Pending"
                                     operation="requestResponse"
                                     outputVariable="RESTResponse"
                                     partnerLink="CSRest"/>
                        <bpel:assign aei:id="1589987221028153730" name="Set_Approve">
                           <bpel:copy>
                              <bpel:from>
                                 <bpel:literal>true</bpel:literal>
                              </bpel:from>
                              <bpel:to variable="BCancelApprovedOrReject"/>
                           </bpel:copy>
                        </bpel:assign>
                     </bpel:sequence>
                     <bpel:elseif aei:id="1589987221028153760">
                        <bpel:condition>$ProcessTaskResponse/mdmavxsd:actionName/text()='Send Back'</bpel:condition>
                        <bpel:sequence aei:id="1589987221028153761">
                           <bpel:assign aei:id="1589987221028153789" name="Setup_Update">
                              <bpel:copy>
                                 <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
                                 <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
     &lt;mdmavxsd:name&gt;AVOSBeUpdate&lt;/mdmavxsd:name&gt;
     &lt;mdmavxsd:displayName&gt;Update&lt;/mdmavxsd:displayName&gt;
     &lt;mdmavxsd:description&gt;Update step in the workflow&lt;/mdmavxsd:description&gt;
     &lt;mdmavxsd:pendingBVT&gt;true&lt;/mdmavxsd:pendingBVT&gt;
     &lt;mdmavxsd:dataUpdateType&gt;PENDING&lt;/mdmavxsd:dataUpdateType&gt;
     &lt;mdmavxsd:defaultApproval&gt;false&lt;/mdmavxsd:defaultApproval&gt;
     &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
 &lt;/mdmavxsd:taskType&gt;</bpel:from>
                                 <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
                        &lt;mdmavxsd:INFATaskAction&gt;
                           &lt;mdmavxsd:name&gt;Submit For Approval&lt;/mdmavxsd:name&gt;
                           &lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
                           &lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
                           &lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
                           &lt;mdmavxsd:nextTaskType&gt;AVOSBeFinalReview&lt;/mdmavxsd:nextTaskType&gt;
                        &lt;/mdmavxsd:INFATaskAction&gt;
                        &lt;mdmavxsd:INFATaskAction&gt;
                           &lt;mdmavxsd:name&gt;Cancel&lt;/mdmavxsd:name&gt;
                           &lt;mdmavxsd:cancelTask&gt;true&lt;/mdmavxsd:cancelTask&gt;
                           &lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
                           &lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
                           &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
                        &lt;/mdmavxsd:INFATaskAction&gt;
                     &lt;/mdmavxsd:actions&gt;</bpel:from>
                                 <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:actions</bpel:to>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:from>
                                 <bpel:to>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:to>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:extensionActivity>
                              <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                                                  aei:id="1589987221028153794"
                                                  inputVariable="ProcessTaskRequest"
                                                  name="Update"
                                                  outputVariable="ProcessTaskResponse">
                                 <b4p:localTask xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
                                                xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
                                                xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                                                xmlns:ns3="urn:co-types.informatica.mdm"
                                                reference="UpdateTask">
                                    <htd:peopleAssignments/>
                                 </b4p:localTask>
                                 <b4p:attachmentPropagation fromProcess="all" toProcess="newOnly"/>
                              </b4p:peopleActivity>
                           </bpel:extensionActivity>
                           <bpel:assign aei:id="1589987221028153795" ext1:mutexTransitions="yes"
                                        name="Set_Cancel_if_Needed">
                              <bpel:copy>
                                 <bpel:from>$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Cancel'</bpel:from>
                                 <bpel:to variable="BCancelApprovedOrReject"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:assign aei:id="1589987221028153797" name="Assign_Actions">
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat($InfaTask/mdmavxsd:taskData/mdmavxsd:creator/text(),",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###",$actionName)</bpel:from>
                                 <bpel:to variable="actionName"/>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat("portal.", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text(),".",$ProcessTaskResponse/mdmavxsd:actionName/text()))</bpel:from>
                                 <bpel:to variable="newState"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:scope aei:id="159681160826595695" name="Update_State_If_Required">
                              <bpel:sequence aei:id="159681160826595700">
                                 <bpel:empty aei:id="159681160826595701"/>
                                 <bpel:if aei:id="159681160826595702">
                                    <bpel:condition>boolean($newState)</bpel:condition>
                                    <bpel:sequence aei:id="159681160826595705">
                                       <bpel:assign aei:id="159681160826595706" name="Security_Provider">
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text()}&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{"updateEntityUsingPOST"}&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{"avos"}&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{cfgx:getPropertyValue($getConfig,'hub.admin.user')}&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                             <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                          </bpel:copy>
                                       </bpel:assign>
                                       <bpel:invoke aei:id="159681160826595708" inputVariable="getEncryptedSecurityPayloadRest"
                                                    name="Security_Provider"
                                                    operation="getEncryptedSecurityPayloadRest"
                                                    outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                    partnerLink="SecurityProvider"/>
                                       <bpel:assign aei:id="159681160826595709" name="Setup_Update_Request">
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/state/",$portalId,"?systemName=", $sourceSystemPortal )}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","portalState":"{$newState}","interactionId":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}"}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                             <bpel:to variable="RESTRequest"/>
                                          </bpel:copy>
                                       </bpel:assign>
                                       <bpel:invoke aei:id="159681160826595711" inputVariable="RESTRequest"
                                                    name="Update_Request_Service"
                                                    operation="requestResponse"
                                                    outputVariable="RESTResponse"
                                                    partnerLink="PortalRestProvider"/>
                                    </bpel:sequence>
                                    <bpel:else aei:id="159681160826595713">
                                       <bpel:empty aei:id="159681160826595714" aei:implicit="yes"/>
                                    </bpel:else>
                                 </bpel:if>
                                 <bpel:empty aei:id="159681160826595716"/>
                              </bpel:sequence>
                           </bpel:scope>
                        </bpel:sequence>
                     </bpel:elseif>
                     <bpel:else aei:id="1589987221028153828">
                        <bpel:if aei:id="1589987221028153830">
                           <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Reject'</bpel:condition>
                           <bpel:assign aei:id="1589987221028153834" name="Set_Reject">
                              <bpel:copy>
                                 <bpel:from>
                                    <bpel:literal>true</bpel:literal>
                                 </bpel:from>
                                 <bpel:to variable="BCancelApprovedOrReject"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:else aei:id="1589987221028153837">
                              <bpel:empty aei:id="1589987221028153838" aei:implicit="yes"/>
                           </bpel:else>
                        </bpel:if>
                     </bpel:else>
                  </bpel:if>
               </bpel:sequence>
            </bpel:repeatUntil>
         </bpel:sequence>
         <bpel:else aei:id="1589987221028153842">
            <bpel:empty aei:id="1589987221028153843" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:if aei:id="1589987221028153845">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text()='Cancel' or $ProcessTaskResponse/mdmavxsd:actionName/text()='Reject' or
$ProcessTaskResponse/mdmavxsd:actionName/text()='Discard'</bpel:condition>
         <bpel:sequence aei:id="1589987221028153848">
            <bpel:assign aei:id="1589987221028153849" name="Security_Provider_Request">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "deletePendingUsingDelete" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                  <bpel:to variable="getEncryptedSecurityPayloadRest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1589987221028153851" inputVariable="getEncryptedSecurityPayloadRest"
                         name="Security_Provider"
                         operation="getEncryptedSecurityPayloadRest"
                         outputVariable="getEncryptedSecurityPayloadRestResponse"
                         partnerLink="SecurityProvider"/>
            <bpel:assign aei:id="1589987221028153852" name="Delete_Pending_Request">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;DELETE&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="action" value="deletePending"/&gt;
&lt;rest:param name="interactionId" value="{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1589987221028153854" inputVariable="RESTRequest" name="Delete_Pending"
                         operation="requestResponse"
                         outputVariable="RESTResponse"
                         partnerLink="CSRest"/>
            <bpel:assign aei:id="159057127328405366" name="Security_Provider">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "deleteUserUsingDELETE" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                  <bpel:to variable="getEncryptedSecurityPayloadRest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="159057127328405368" inputVariable="getEncryptedSecurityPayloadRest"
                         name="Security_Provider"
                         operation="getEncryptedSecurityPayloadRest"
                         outputVariable="getEncryptedSecurityPayloadRestResponse"
                         partnerLink="SecurityProvider"/>
            <bpel:assign aei:id="159057127328405369" name="Delete_User">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;DELETE&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{$userName}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt; 
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="159057127328405371" inputVariable="RESTRequest" name="Delete_User"
                         operation="requestResponse"
                         outputVariable="RESTResponse"
                         partnerLink="UserRestProvider"/>
         </bpel:sequence>
         <bpel:else aei:id="1589987221028153856">
            <bpel:empty aei:id="1589987221028153857" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:empty aei:id="1589987221028153874"/>
   </bpel:sequence>
</bpel:process>