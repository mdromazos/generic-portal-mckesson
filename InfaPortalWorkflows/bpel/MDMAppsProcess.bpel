<?xml version="1.0" encoding="UTF-8"?>
<bpel:process xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
              xmlns:ns="http://Customer360Process/Customer360Process"
              xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"
              xmlns:abxht="http://schemas.active-endpoints.com/b4p/wshumantask/2007/10/abxht"
              xmlns:solutions="http://informatica.com/modules/solutions/1.0/xquery"
              xmlns:cfgx="http://informatica.com/modules/configuration/1.0/xquery"
              xmlns:b4p="http://www.example.org/BPEL4People"
              xmlns:solution="http://custom.functions/CustomJavafunctions"
              xmlns:ext="http://www.activebpel.org/2006/09/bpel/extension/query_handling"
              xmlns:mdm_avos_pl="http://www.informatica.com/activevos/mdmworkflow/wsdl/mdmavospl"
              xmlns:json="http://schemas.activebpel.org/JSON/2013/10/10/aeJSON.xsd"
              xmlns:abx="http://www.activebpel.org/bpel/extension"
              xmlns:aeREST="http://www.activebpel.org/REST/2007/12/01/aeREST.wsdl"
              xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
              xmlns:htd="http://www.example.org/WS-HT"
              xmlns:aei="http://www.activebpel.org/2009/02/bpel/extension/ignorable"
              xmlns:ns2="urn:co-base.informatica.mdm"
              xmlns:ns1="urn:cs-base.informatica.mdm"
              xmlns:ns4="urn:co-ors.informatica.mdm"
              xmlns:ns3="urn:co-types.informatica.mdm"
              xmlns:ext1="http://www.activebpel.org/2009/06/bpel/extension/links"
              xmlns:ext2="http://www.activebpel.org/2011/08/bpel/extension/script"
              xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"
              xmlns:xsd="http://www.w3.org/2001/XMLSchema"
              xmlns:mdm_avos="urn:informatica.mdm.av"
              xmlns:cfg="http://www.informatica.com/schema/1.0/av_config.xsd"
              xmlns:rest="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"
              aei:editStyle="BPMN"
              ext1:linksAreTransitions="yes"
              ext:createTargetXPath="yes"
              ext:disableSelectionFailure="yes"
              name="MDMAppsProcess"
              suppressJoinFailure="yes"
              targetNamespace="http://MDMAppsProcess">
   <b4p:humanInteractions xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd">
      <htd:logicalPeopleGroups>
         <htd:logicalPeopleGroup name="abAdmin"/>
      </htd:logicalPeopleGroups>
      <htd:tasks>
         <htd:task name="DraftState">
            <htd:interface operation="processTask" portType="mdm_avos:processTask"/>
            <htd:priority expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$InfaTask/mdmavxsd:taskData/mdmavxsd:priority/text()</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $task := $ProcessTaskResponse/mdmavxsd:INFATask&#xD;
return&#xD;
&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
    &lt;ht:users&gt;&#xD;
      &lt;ht:user&gt;{concat($task/mdmavxsd:orsId/text()," ", $task/mdmavxsd:taskData/mdmavxsd:creator/text())}&lt;/ht:user&gt;&#xD;
    &lt;/ht:users&gt;&#xD;
 &lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>DraftState Task</htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns1="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns1:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewDraftStateTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
         <htd:task xmlns:mdm_av_api="urn:informatica.mdm.av.api" name="FinalReviewTask">
            <htd:interface xmlns:ns="urn:informatica.mdm.av.api" xmlns:ns1="urn:informatica.mdm.av"
                           operation="processTask"
                           portType="ns1:processTask"/>
            <htd:priority>$InfaTask/mdmavxsd:taskData/mdmavxsd:priority</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
  {&#xD;
    &lt;ht:groups&gt;&#xD;
  {&#xD;
  for $role in $AssignableUsersResponse/rest:payload/*/ns1:roles/ns1:role&#xD;
    return&#xD;
      &lt;ht:group&gt;{concat($InfaTask/mdmavxsd:orsId/text()," ",$role/text())}&lt;/ht:group&gt;&#xD;
  }&#xD;
  &lt;/ht:groups&gt;&#xD;
  } &#xD;
&lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>Final Review</htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewFinalReviewTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
         <htd:task xmlns:mdm_av_api="urn:informatica.mdm.av.api" name="NotificationTask">
            <htd:interface xmlns:ns1="urn:informatica.mdm.av" operation="processTask"
                           portType="ns1:processTask"/>
            <htd:priority>$InfaTask/mdmavxsd:taskData/mdmavxsd:priority</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $task := $ProcessTaskResponse/mdmavxsd:INFATask&#xD;
return&#xD;
&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
    &lt;ht:users&gt;&#xD;
      &lt;ht:user&gt;{concat($task/mdmavxsd:orsId/text()," ", $task/mdmavxsd:taskData/mdmavxsd:creator/text())}&lt;/ht:user&gt;&#xD;
    &lt;/ht:users&gt;&#xD;
 &lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>Notification </htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns1="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns1:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewNotificationTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
         <htd:task xmlns:mdm_av_api="urn:informatica.mdm.av.api" name="UpdateTask">
            <htd:interface xmlns:ns="urn:informatica.mdm.av.api" xmlns:ns1="urn:informatica.mdm.av"
                           operation="processTask"
                           portType="ns1:processTask"/>
            <htd:priority>$InfaTask/mdmavxsd:taskData/mdmavxsd:priority</htd:priority>
            <htd:peopleAssignments>
               <htd:potentialOwners>
                  <htd:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $task := $ProcessTaskResponse/mdmavxsd:INFATask&#xD;
return&#xD;
&lt;ht:organizationalEntity xmlns:ht='http://www.example.org/WS-HT'&gt;&#xD;
    &lt;ht:users&gt;&#xD;
      &lt;ht:user&gt;{concat($task/mdmavxsd:orsId/text()," ", $task/mdmavxsd:taskData/mdmavxsd:creator/text())}&lt;/ht:user&gt;&#xD;
    &lt;/ht:users&gt;&#xD;
 &lt;/ht:organizationalEntity&gt;</htd:from>
               </htd:potentialOwners>
               <htd:businessAdministrators>
                  <htd:from logicalPeopleGroup="abAdmin"/>
               </htd:businessAdministrators>
            </htd:peopleAssignments>
            <htd:presentationElements>
               <htd:name>Update</htd:name>
               <htd:presentationParameters expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">
                  <htd:presentationParameter name="hubUsername" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubUsername/text()</htd:presentationParameter>
                  <htd:presentationParameter name="hubPassword" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:hubPassword/text()</htd:presentationParameter>
                  <htd:presentationParameter name="securityPayload" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:securityPayload/text()</htd:presentationParameter>
                  <htd:presentationParameter name="orsId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:orsId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayName" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayName/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDescription" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:description/text()</htd:presentationParameter>
                  <htd:presentationParameter name="pendingBVT" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:pendingBVT</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDataUpdateType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:dataUpdateType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeDisplayType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:displayType/text()</htd:presentationParameter>
                  <htd:presentationParameter name="defaultApproval" type="xsd:boolean">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:defaultApproval</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTaskId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataOwnerUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:ownerUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataGroups" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:groups/mdmavxsd:groups/text()</htd:presentationParameter>
                  <htd:presentationParameter name="dueDate" type="xsd:dateTime">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:dueDate/text()&#xD;
return&#xD;
xsd:dateTime(substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0))))</htd:presentationParameter>
                  <htd:presentationParameter name="status" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:status/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataPriority" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:priority&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataSubjectAreaUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataTitle" type="xsd:string">let $in := $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
let $out := abxht:getOutput('processTaskResponse')/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:title/text()&#xD;
return&#xD;
substring(concat($in, $out ), (1 + (string-length($in )) * xsd:int((string-length($out) &gt; 0))), string-length($out) + (string-length($in )) * xsd:int((string-length($out) = 0)))</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataComments" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:comments/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataInteractionId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataCreator" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:creator/text()</htd:presentationParameter>
                  <htd:presentationParameter name="createDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:createDate</htd:presentationParameter>
                  <htd:presentationParameter name="taskDataUpdatedBy" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text()</htd:presentationParameter>
                  <htd:presentationParameter name="lastUpdateDate" type="xsd:dateTime">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:lastUpdateDate</htd:presentationParameter>
                  <htd:presentationParameter name="workflowVersion" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:workflowVersion/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowId" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text()</htd:presentationParameter>
                  <htd:presentationParameter name="bePkeySrcObject" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:pkeySrcObject/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beSystem" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:system/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beRowidXref" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowidXref/text()</htd:presentationParameter>
                  <htd:presentationParameter name="beTableUID" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:tableUID/text()</htd:presentationParameter>
                  <htd:presentationParameter name="taskTypeCreationType" type="xsd:string">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:creationType/text()</htd:presentationParameter>
               </htd:presentationParameters>
               <htd:subject>{$taskDataTitle}</htd:subject>
            </htd:presentationElements>
            <htd:renderings>
               <htd:rendering xmlns:ns="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                              type="ns:AjaxForm">
                  <avcform:ajaxFormRendering xmlns:avcform="http://schemas.active-endpoints.com/avc/2009/07/avoscentral-forms.xsd"
                                             developmentMode="false">
							              <avcform:location>project:/InfaPortalWorkflows/form/NewUpdateTask.html</avcform:location>
						            </avcform:ajaxFormRendering>
               </htd:rendering>
            </htd:renderings>
         </htd:task>
      </htd:tasks>
      <htd:notifications/>
   </b4p:humanInteractions>
   <bpmndi:BPMNDiagram xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                       xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                       aei:bpelDigest=""
                       aei:editStyle="BPMN"
                       aei:layoutNeeded="false"
                       aei:modelVersion="5"
                       aei:objectId="158738843046451463"
                       aei:processInitiatorSim=""
                       isHorizontal="false">
      <bpmndi:BPMNPlane>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="158757006913757434"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="158757006913757434"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="158757627289881910"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="158757627289881910"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="158757812026189828"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="158757812026189828"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="158940087797134967"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="158940087797134967"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="1590017685295312713"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="1590017685295312713"/>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {585,155}" aei:absoluteSize="DIM {775,4664}"
                           aei:objectId="158757006916957447"
                           aei:type="SEQUENCE"
                           bpmnElement="158757006916957447"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="575" y="145"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {937,165}" aei:absoluteSize="DIM {70,60}"
                           aei:attachments=""
                           aei:name="Start"
                           aei:objectId="158757006913757429"
                           aei:principal=""
                           aei:type="RECEIVE"
                           bpmnElement="158757006913757429">
            <dc:Bounds height="60" width="70" x="462" y="140"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {963,222}" aei:absoluteSize="DIM {24,32}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="139022951720423045"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="158757006913757430"
                              aei:relative.location="LOC {-19,47}"
                              aei:text="Start"
                              bpmnElement="158757006913757429label">
               <dc:Bounds height="13" width="24" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {937,250}" aei:absoluteSize="DIM {70,60}"
                           aei:name="Reply with Process id "
                           aei:objectId="158757006913757427"
                           aei:type="REPLY"
                           bpmnElement="158757006913757427">
            <dc:Bounds height="60" width="70" x="653" y="172"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {929,241}" aei:absoluteSize="DIM {120,34}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="139022953260523859"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="158757006913757428"
                              aei:relative.location="LOC {-53,-19}"
                              aei:text="Reply with Process id "
                              bpmnElement="158757006913757427label">
               <dc:Bounds height="34" width="120" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,335}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Initialze Data"
                           aei:objectId="158757341239261246"
                           aei:type="ASSIGN"
                           bpmnElement="158757341239261246">
            <dc:Bounds height="53" width="125" x="1" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,413}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Prepare Encrypt"
                           aei:objectId="158757572192781302"
                           aei:type="ASSIGN"
                           bpmnElement="158757572192781302">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,491}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Encrypt Security"
                           aei:objectId="158757573157181476"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="158757573157181476">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,569}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Read Business Entity"
                           aei:objectId="158757834774391040"
                           aei:type="ASSIGN"
                           bpmnElement="158757834774391040">
            <dc:Bounds height="-1" width="-1" x="675" y="347"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,647}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Read Business Entity"
                           aei:objectId="158757835200691116"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="158757835200691116">
            <dc:Bounds height="-1" width="-1" x="546" y="530"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,725}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Initilize Data"
                           aei:objectId="158775555332465293"
                           aei:type="ASSIGN"
                           bpmnElement="158775555332465293">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,803}" aei:absoluteSize="DIM {195,397}"
                           aei:objectId="158940124056873949"
                           aei:type="IF"
                           bpmnElement="158940124056873949"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {988,806}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="158940124056873949"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="158940124056973951"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="158940124056873949label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalId)"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {875,863}"
                           aei:absoluteSize="DIM {145,277}"
                           aei:objectId="158940124056973953"
                           aei:type="ELSE_IF"
                           bpmnElement="158940124056873949ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {925,871}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="158940124056973953"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="158940124056973955"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="158940124056873949ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,892}" aei:absoluteSize="DIM {145,229}"
                           aei:objectId="158940124057073957"
                           aei:type="SEQUENCE"
                           bpmnElement="158940124057073957"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,902}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Get Portal Config"
                           aei:objectId="158940131153174149"
                           aei:type="ASSIGN"
                           bpmnElement="158940131153174149">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,980}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Get Portal Config"
                           aei:objectId="158940132126174419"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="158940132126174419">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,1058}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Initialize Portal Data"
                           aei:objectId="1588154564074464533"
                           aei:type="ASSIGN"
                           bpmnElement="1588154564074464533">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1045,863}" aei:absoluteSize="DIM {25,277}"
                           aei:objectId="158940124057173959"
                           aei:type="ELSE"
                           bpmnElement="158940124056873949elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1056,871}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="158940124057173959"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="158940124057173961"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="158940124056873949elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1047,892}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="158940124057173963"
                           aei:type="SEQUENCE"
                           bpmnElement="158940124057173963"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,1225}" aei:absoluteSize="DIM {195,319}"
                           aei:objectId="1588156668007469109"
                           aei:type="IF"
                           bpmnElement="1588156668007469109"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {988,1228}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1588156668007469109"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1588156668008469111"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1588156668007469109label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$draftInd = 'Y'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {875,1285}"
                           aei:absoluteSize="DIM {145,199}"
                           aei:objectId="1588156668008469113"
                           aei:type="ELSE_IF"
                           bpmnElement="1588156668007469109ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {925,1293}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1588156668008469113"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1588156668008469115"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1588156668007469109ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,1314}" aei:absoluteSize="DIM {145,151}"
                           aei:objectId="1588156668008469117"
                           aei:type="SEQUENCE"
                           bpmnElement="1588156668008469117"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,1324}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Draft State"
                           aei:objectId="1588005138408182877"
                           aei:type="ASSIGN"
                           bpmnElement="1588005138408182877">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,1402}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Draft State"
                           aei:objectId="1588005142210183053"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1588005142210183053">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1045,1285}" aei:absoluteSize="DIM {25,199}"
                           aei:objectId="1588156668010469119"
                           aei:type="ELSE"
                           bpmnElement="1588156668007469109elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1056,1293}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1588156668010469119"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1588156668010469121"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1588156668007469109elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1047,1314}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="1588156668010469123"
                           aei:type="SEQUENCE"
                           bpmnElement="1588156668010469123"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,1569}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Actions"
                           aei:objectId="1588023865302190181"
                           aei:type="ASSIGN"
                           bpmnElement="1588023865302190181">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {910,1647}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update State If Required"
                           aei:objectId="1589560769320353325"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1589560769320353325"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1589560769320353325"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589560769321353343"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update State If Required"
                              bpmnElement="1589560769320353325label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589560769321353345" aei:type="SEQUENCE"
                           bpmnElement="1589560769321353345"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589560769322353347"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589560769322353347">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589570267342380363" aei:type="IF"
                           bpmnElement="1589570267342380363"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380363"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589570267342380365"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589570267342380363label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="not($isUpdate) and $isStateEnabled and boolean($newState)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:objectId="1589570267342380367"
                           aei:type="ELSE_IF"
                           bpmnElement="1589570267342380363ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380367"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589570267342380369"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589570267342380363ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589570267342380371" aei:type="SEQUENCE"
                           bpmnElement="1589570267342380371"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1589560798365353525"
                           aei:type="ASSIGN"
                           bpmnElement="1589560798365353525">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1589560803058353669"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589560803058353669">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Setup Update Request" aei:objectId="1589560805180353769"
                           aei:type="ASSIGN"
                           bpmnElement="1589560805180353769">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Request Service"
                           aei:objectId="1589560811304353929"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589560811304353929">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589570267342380373" aei:type="ELSE"
                           bpmnElement="1589570267342380363elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380373"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589570267342380375"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589570267342380363elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589570267343380377" aei:type="SEQUENCE"
                           bpmnElement="1589570267343380377"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589560769322353349"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589560769322353349">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {595,1740}" aei:absoluteSize="DIM {755,2062}"
                           aei:objectId="159345040814505391"
                           aei:type="IF"
                           bpmnElement="159345040814505391"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {988,1743}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159345040814505391"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159345040814505393"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="159345040814505391label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Submit' or $draftInd = 'N'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {595,1800}"
                           aei:absoluteSize="DIM {705,1942}"
                           aei:objectId="159345040814505395"
                           aei:type="ELSE_IF"
                           bpmnElement="159345040814505391ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {925,1808}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159345040814505395"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159345040814505397"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="159345040814505391ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {595,1829}" aei:absoluteSize="DIM {705,1894}"
                           aei:objectId="159345040814505399"
                           aei:type="SEQUENCE"
                           bpmnElement="159345040814505399"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {850,1839}" aei:absoluteSize="DIM {195,256}"
                           aei:objectId="159348322934712605"
                           aei:type="IF"
                           bpmnElement="159348322934712605"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {963,1842}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159348322934712605"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159348322934812607"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="159348322934712605label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$draftInd = 'Y'"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {850,1899}"
                           aei:absoluteSize="DIM {145,136}"
                           aei:objectId="159348322934812609"
                           aei:type="ELSE_IF"
                           bpmnElement="159348322934712605ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {900,1907}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159348322934812609"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159348322934812611"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="159348322934712605ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {860,1938}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:objectId="159347986643108037"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="159347986643108037"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="159347986643108037"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159347986643308055"
                              aei:relative.location="LOC {0,5}"
                              bpmnElement="159347986643108037label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159347986643308057" aei:type="SEQUENCE"
                           bpmnElement="159347986643308057"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159347986643308059"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159347986643308059">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="159347992364808231"
                           aei:type="ASSIGN"
                           bpmnElement="159347992364808231">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="159347992899808417"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159347992899808417">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Update Draft State" aei:objectId="159347993465108525"
                           aei:type="ASSIGN"
                           bpmnElement="159347993465108525">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Draft State"
                           aei:objectId="159347993784308731"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159347993784308731">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159347986643308061"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159347986643308061">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {850,1928}" aei:absoluteSize="DIM {145,88}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="159348322934812613"
                           aei:type="Sequence"
                           bpmnElement="159347986643108037wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1020,1899}" aei:absoluteSize="DIM {25,136}"
                           aei:objectId="159348322934812615"
                           aei:type="ELSE"
                           bpmnElement="159348322934712605elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1031,1907}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159348322934812615"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159348322934812617"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="159348322934712605elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1022,1928}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="159348322934812619"
                           aei:type="SEQUENCE"
                           bpmnElement="159348322934812619"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2120}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider"
                           aei:objectId="1588003959638137426"
                           aei:type="ASSIGN"
                           bpmnElement="1588003959638137426">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2198}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="1588003959638137425"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1588003959638137425">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2276}" aei:absoluteSize="DIM {125,53}"
                           aei:name="List Assignable Users"
                           aei:objectId="1588003959638137423"
                           aei:type="ASSIGN"
                           bpmnElement="1588003959638137423">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2354}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="List Assignable Users"
                           aei:objectId="1588003959638137422"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1588003959638137422">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {605,2432}" aei:absoluteSize="DIM {685,1281}"
                           aei:objectId="1587657634408204757"
                           aei:repeatCondition="$BCancelApprovedOrReject"
                           aei:repeatFlipped="false"
                           aei:type="REPEAT_UNTIL"
                           bpmnElement="1587657634408204757">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {978,3705}" aei:absoluteSize="DIM {69,16}"
                              aei:anchor.location="11"
                              aei:anchor.objectId="1587657634408204757"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587657634408204759"
                              aei:relative.location="LOC {5,2}"
                              aei:text="Repeat Until"
                              bpmnElement="1587657634408204757label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {625,2492}" aei:absoluteSize="DIM {645,1181}"
                           aei:objectId="1587657634408204761"
                           aei:type="SEQUENCE"
                           bpmnElement="1587657634408204761"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2502}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Final Review"
                           aei:objectId="1587585575693172906"
                           aei:type="ASSIGN"
                           bpmnElement="1587585575693172906">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2580}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Final Review"
                           aei:objectId="1587585443834172669"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1587585443834172669">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2658}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Action"
                           aei:objectId="1587659137733205019"
                           aei:type="ASSIGN"
                           bpmnElement="1587659137733205019">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2736}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update State If Required"
                           aei:objectId="1589573044389410507"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1589573044389410507"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1589560769320353325"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589573044389410533"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update State If Required"
                              bpmnElement="1589573044389410507label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589573044389410512" aei:type="SEQUENCE"
                           bpmnElement="1589573044389410512"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589573044389410513"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589573044389410513">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589573044389410514" aei:type="IF"
                           bpmnElement="1589573044389410514"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380363"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589573044389410515"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589573044389410514label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="not($isUpdate) and $isStateEnabled and boolean($newState)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:objectId="1589573044389410516"
                           aei:type="ELSE_IF"
                           bpmnElement="1589573044389410514ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380367"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589573044389410517"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589573044389410514ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589573044389410518" aei:type="SEQUENCE"
                           bpmnElement="1589573044389410518"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1589573044389410519"
                           aei:type="ASSIGN"
                           bpmnElement="1589573044389410519">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1589573044389410521"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589573044389410521">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Setup Update Request" aei:objectId="1589573044389410522"
                           aei:type="ASSIGN"
                           bpmnElement="1589573044389410522">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Request Service"
                           aei:objectId="1589573044389410524"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589573044389410524">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589573044389410525" aei:type="ELSE"
                           bpmnElement="1589573044389410514elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380373"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589573044389410526"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589573044389410514elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589573044389410527" aei:type="SEQUENCE"
                           bpmnElement="1589573044389410527"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589573044389410528"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589573044389410528">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {635,2829}" aei:absoluteSize="DIM {625,834}"
                           aei:objectId="1587659798565208041"
                           aei:type="IF"
                           bpmnElement="1587659798565208041"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {963,2832}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659798565208041"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587659798565208043"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1587659798565208041label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Approve'"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {635,2889}"
                           aei:absoluteSize="DIM {215,714}"
                           aei:objectId="1587659798565208045"
                           aei:text="Approve"
                           aei:type="ELSE_IF"
                           bpmnElement="1587659798565208041ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {720,2897}" aei:absoluteSize="DIM {47,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659798565208045"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587659798565208047"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="Approve"
                              bpmnElement="1587659798565208041ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {635,2918}" aei:absoluteSize="DIM {215,666}"
                           aei:objectId="1587659798565208049"
                           aei:type="SEQUENCE"
                           bpmnElement="1587659798565208049"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {680,2928}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider Request"
                           aei:objectId="1587661314234220472"
                           aei:type="ASSIGN"
                           bpmnElement="1587661314234220472">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {680,3006}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="1587661318957220576"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1587661318957220576">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {680,3084}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Promote Pending Request"
                           aei:objectId="1587661545286220768"
                           aei:type="ASSIGN"
                           bpmnElement="1587661545286220768">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {680,3162}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Promote Pending"
                           aei:objectId="1587661555347220906"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1587661555347220906">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {680,3240}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Approve"
                           aei:objectId="1587768870375102277"
                           aei:type="ASSIGN"
                           bpmnElement="1587768870375102277">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {645,3318}" aei:absoluteSize="DIM {195,256}"
                           aei:objectId="1590228999701492768"
                           aei:type="IF"
                           bpmnElement="1590228999701492768"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {758,3321}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1590228999701492768"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590228999705492770"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590228999701492768label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalId)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {645,3378}"
                           aei:absoluteSize="DIM {145,136}"
                           aei:objectId="1590228999705492772"
                           aei:type="ELSE_IF"
                           bpmnElement="1590228999701492768ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {695,3386}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1590228999705492772"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590228999709492774"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590228999701492768ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {655,3417}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {100,176}"
                           aei:name="User Management"
                           aei:objectId="158983092020983689"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="158983092020983689"
                           isHorizontal="false">
            <dc:Bounds height="176" width="100" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="158983092020983689"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="158983092021083707"
                              aei:relative.location="LOC {0,5}"
                              aei:text="User Management"
                              bpmnElement="158983092020983689label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="158983092021083709" aei:type="SEQUENCE"
                           bpmnElement="158983092021083709"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="158983092021083711"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="158983092021083711">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Initialize data" aei:objectId="158983098130984029" aei:type="ASSIGN"
                           bpmnElement="158983098130984029">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="158983221075387747"
                           aei:type="ASSIGN"
                           bpmnElement="158983221075387747">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="158983221398787935"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="158983221398787935">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Read BE View" aei:objectId="158983218849387415" aei:type="ASSIGN"
                           bpmnElement="158983218849387415">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Read BE View" aei:objectId="158983219161087607"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="158983219161087607">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052373285365935" aei:type="IF"
                           bpmnElement="1590052373285365935"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052373285365935"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052373287365937"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590052373285365935label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean( $ContactChildName )"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590052373287365939"
                           aei:type="ELSE_IF"
                           bpmnElement="1590052373285365935ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052373287365939"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052373288365941"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590052373285365935ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:expanded="false" aei:expandedSize="DIM {595,1640}"
                           aei:name="User Management for one to many Child"
                           aei:objectId="1590052426593371429"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1590052426593371429"
                           isHorizontal="false">
            <dc:Bounds height="1640" width="595" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1590052426593371429"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052426610371447"
                              aei:relative.location="LOC {0,5}"
                              aei:text="User Management for one to many Child"
                              bpmnElement="1590052426593371429label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052426610371449" aei:type="SEQUENCE"
                           bpmnElement="1590052426610371449"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590052426612371451"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590052426612371451">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Get Potal User Ind" aei:objectId="158983258170397339"
                           aei:type="ASSIGN"
                           bpmnElement="158983258170397339">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052453559378857" aei:type="IF"
                           bpmnElement="1590052453559378857"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052453559378857"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052453560378859"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590052453559378857label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean( $ContactChildXML )"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590052453560378861"
                           aei:type="ELSE_IF"
                           bpmnElement="1590052453559378857ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052453560378861"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052453562378863"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590052453559378857ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052456397380097" aei:type="IF"
                           bpmnElement="1590052456397380097"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052456397380097"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052456399380099"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590052456397380097label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ContactsCount &gt; 0"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590052456399380101"
                           aei:type="ELSE_IF"
                           bpmnElement="1590052456397380097ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052456399380101"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052456400380103"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590052456397380097ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052541224384955" aei:repeatCondition="$ContactsCount = 0"
                           aei:repeatFlipped="false"
                           aei:type="REPEAT_UNTIL"
                           bpmnElement="1590052541224384955">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1590052541224384955"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052541225384957"
                              aei:relative.location="LOC {5,2}"
                              aei:text="Repeat Until"
                              bpmnElement="1590052541224384955label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052541225384959" aei:type="SEQUENCE"
                           bpmnElement="1590052541225384959"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Initialize User Data" aei:objectId="1590052627682390900"
                           aei:type="ASSIGN"
                           bpmnElement="1590052627682390900">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590052627682390906"
                           aei:type="ASSIGN"
                           bpmnElement="1590052627682390906">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590052627682390908"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590052627682390908">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Find User" aei:objectId="1590052627682390909" aei:type="ASSIGN"
                           bpmnElement="1590052627682390909">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Find User Service"
                           aei:objectId="1590052627682390911"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590052627682390911">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052668440396692" aei:type="IF"
                           bpmnElement="1590052668440396692"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052668440396692"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052668441396694"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590052668440396692label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalUserIndPath) and $portalUserInd = 'true' and not(boolean($RESTResponse/rest:payload/text()))"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590052668442396696"
                           aei:type="ELSE_IF"
                           bpmnElement="1590052668440396692ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052668442396696"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052668442396698"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590052668440396692ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052668442396700" aei:type="SEQUENCE"
                           bpmnElement="1590052668442396700"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590052777654398713"
                           aei:type="ASSIGN"
                           bpmnElement="1590052777654398713">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590052777654398715"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590052777654398715">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Create User" aei:objectId="1590052777654398716" aei:type="ASSIGN"
                           bpmnElement="1590052777654398716">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Create User Service"
                           aei:objectId="1590052777654398718"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590052777654398718">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalUserIndPath) and $portalUserInd = 'false' and boolean($RESTResponse/rest:payload/text())"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590052673282396750"
                           aei:type="ELSE_IF"
                           bpmnElement="1590052673282396750">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052673282396750"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052673283396752"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590052673282396750label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052673283396754" aei:type="SEQUENCE"
                           bpmnElement="1590052673283396754"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590052793210400495"
                           aei:type="ASSIGN"
                           bpmnElement="1590052793210400495">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590052793210400497"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590052793210400497">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Delete User" aei:objectId="1590052793210400498" aei:type="ASSIGN"
                           bpmnElement="1590052793210400498">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Delete User" aei:objectId="1590052793210400500"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590052793210400500">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="not(boolean($portalUserIndPath)) and not(boolean($RESTResponse/rest:payload/text()))"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="159103546078089685"
                           aei:type="ELSE_IF"
                           bpmnElement="159103546078089685">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="159103546078089685"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159103546078089687"
                              aei:relative.location="LOC {-42,-19}"
                              aei:text="If Condition"
                              bpmnElement="159103546078089685label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159103546078089689" aei:type="SEQUENCE"
                           bpmnElement="159103546078089689"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="159102905121153442"
                           aei:type="ASSIGN"
                           bpmnElement="159102905121153442">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="159102905121153444"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159102905121153444">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Create User" aei:objectId="159102905121153445" aei:type="ASSIGN"
                           bpmnElement="159102905121153445">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Create User Service"
                           aei:objectId="159102905121153447"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159102905121153447">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052668444396702" aei:type="ELSE"
                           bpmnElement="1590052668440396692elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052668444396702"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052668445396704"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590052668440396692elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052668445396706" aei:type="SEQUENCE"
                           bpmnElement="1590052668445396706"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Decrement Count" aei:objectId="1590064536260482938" aei:type="ASSIGN"
                           bpmnElement="1590064536260482938">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590052456400380105"
                           aei:type="Sequence"
                           bpmnElement="1590052541224384955wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052456402380107" aei:type="ELSE"
                           bpmnElement="1590052456397380097elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052456402380107"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052456403380109"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590052456397380097elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052456403380111" aei:type="SEQUENCE"
                           bpmnElement="1590052456403380111"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590052453562378865"
                           aei:type="Sequence"
                           bpmnElement="1590052456397380097wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052453563378867" aei:type="ELSE"
                           bpmnElement="1590052453559378857elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052453563378867"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052453564378869"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590052453559378857elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052453564378871" aei:type="SEQUENCE"
                           bpmnElement="1590052453564378871"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590052426614371453"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590052426614371453">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590052373288365943"
                           aei:type="Sequence"
                           bpmnElement="1590052426593371429wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590052373290365945" aei:type="ELSE"
                           bpmnElement="1590052373285365935elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590052373290365945"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590052373291365947"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590052373285365935elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:expanded="false" aei:expandedSize="DIM {100,176}"
                           aei:name="User Management for one to one child"
                           aei:objectId="1590053168701410992"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1590053168701410992"
                           isHorizontal="false">
            <dc:Bounds height="176" width="100" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1590053168701410992"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590053168706411010"
                              aei:relative.location="LOC {0,5}"
                              aei:text="User Management for one to one child"
                              bpmnElement="1590053168701410992label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590053168706411012" aei:type="SEQUENCE"
                           bpmnElement="1590053168706411012"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590053168708411014"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590053168708411014">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Initialize User Data" aei:objectId="1590053684508424187"
                           aei:type="ASSIGN"
                           bpmnElement="1590053684508424187">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590053703643429844"
                           aei:type="ASSIGN"
                           bpmnElement="1590053703643429844">
            <dc:Bounds height="-1" width="-1" x="20" y="20"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590053703643429846"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590053703643429846">
            <dc:Bounds height="-1" width="-1" x="20" y="20"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Find User" aei:objectId="1590053703643429847" aei:type="ASSIGN"
                           bpmnElement="1590053703643429847">
            <dc:Bounds height="-1" width="-1" x="20" y="20"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Find User Service"
                           aei:objectId="1590053703643429849"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590053703643429849">
            <dc:Bounds height="-1" width="-1" x="20" y="20"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590053818134431578" aei:type="IF"
                           bpmnElement="1590053818134431578"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590053818134431578"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590053818135431580"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1590053818134431578label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalUserIndPath) and $portalUserInd = 'true' and not(boolean($RESTResponse/rest:payload/text()))"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590053818135431582"
                           aei:type="ELSE_IF"
                           bpmnElement="1590053818134431578ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590053818135431582"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590053818136431584"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590053818134431578ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590053818136431586" aei:type="SEQUENCE"
                           bpmnElement="1590053818136431586"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590053880851434207"
                           aei:type="ASSIGN"
                           bpmnElement="1590053880851434207">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590053880851434209"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590053880851434209">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Create User" aei:objectId="1590053880851434210" aei:type="ASSIGN"
                           bpmnElement="1590053880851434210">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Create User Service"
                           aei:objectId="1590053880851434212"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590053880851434212">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="boolean($portalUserIndPath) and $portalUserInd = 'false' and boolean($RESTResponse/rest:payload/text())"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="1590053833285431642"
                           aei:type="ELSE_IF"
                           bpmnElement="1590053833285431642">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590053833285431642"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590053833286431644"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1590053833285431642label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590053833286431646" aei:type="SEQUENCE"
                           bpmnElement="1590053833286431646"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1590053919297448567"
                           aei:type="ASSIGN"
                           bpmnElement="1590053919297448567">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1590053919297448569"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590053919297448569">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Delete User" aei:objectId="1590053919297448570" aei:type="ASSIGN"
                           bpmnElement="1590053919297448570">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Delete User" aei:objectId="1590053919297448572"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1590053919297448572">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="not(boolean($portalUserIndPath)) and not(boolean($RESTResponse/rest:payload/text()))"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:objectId="159103565580594241"
                           aei:type="ELSE_IF"
                           bpmnElement="159103565580594241">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="159103565580594241"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159103565580694243"
                              aei:relative.location="LOC {-42,-19}"
                              aei:text="If Condition"
                              bpmnElement="159103565580594241label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="159103565580694245" aei:type="SEQUENCE"
                           bpmnElement="159103565580694245"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="159103572574097782"
                           aei:type="ASSIGN"
                           bpmnElement="159103572574097782">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="159103572574097784"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159103572574097784">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Create User" aei:objectId="159103572574097785" aei:type="ASSIGN"
                           bpmnElement="159103572574097785">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Create User Service"
                           aei:objectId="159103572574097787"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="159103572574097787">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590053818137431588" aei:type="ELSE"
                           bpmnElement="1590053818134431578elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1590053818137431588"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590053818138431590"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590053818134431578elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1590053818138431592" aei:type="SEQUENCE"
                           bpmnElement="1590053818138431592"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1590053168709411016"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1590053168709411016">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:actySimState="0" aei:bpelName="" aei:joinConditionComp=""
                           aei:objectId="1590052373291365949"
                           aei:type="Sequence"
                           bpmnElement="1590053168701410992wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="158983092021083713"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="158983092021083713">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {645,3407}" aei:absoluteSize="DIM {145,88}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="1590228999709492776"
                           aei:type="Sequence"
                           bpmnElement="158983092020983689wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {815,3378}" aei:absoluteSize="DIM {25,136}"
                           aei:objectId="1590228999716492778"
                           aei:type="ELSE"
                           bpmnElement="1590228999701492768elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {826,3386}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1590228999716492778"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1590228999719492780"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1590228999701492768elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {817,3407}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="1590228999719492782"
                           aei:type="SEQUENCE"
                           bpmnElement="1590228999719492782"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Send Back'"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:absoluteLocation="LOC {875,2889}"
                           aei:absoluteSize="DIM {145,714}"
                           aei:objectId="1587659874005208133"
                           aei:text="Send Back"
                           aei:type="ELSE_IF"
                           bpmnElement="1587659874005208133">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {925,2897}" aei:absoluteSize="DIM {59,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659874005208133"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587659874005208135"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="Send Back"
                              bpmnElement="1587659874005208133label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,2918}" aei:absoluteSize="DIM {145,400}"
                           aei:objectId="1587659874005208137"
                           aei:type="SEQUENCE"
                           bpmnElement="1587659874005208137"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,2928}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Update"
                           aei:objectId="1587660573134210104"
                           aei:type="ASSIGN"
                           bpmnElement="1587660573134210104">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,3006}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Update"
                           aei:objectId="1587659957148208543"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1587659957148208543">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,3084}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Cancel if Needed"
                           aei:objectId="1587660806865213798"
                           aei:type="ASSIGN"
                           bpmnElement="1587660806865213798">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,3162}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Actions"
                           aei:objectId="1587660806865213800"
                           aei:type="ASSIGN"
                           bpmnElement="1587660806865213800">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,3240}" aei:absoluteSize="DIM {125,68}"
                           aei:expanded="false"
                           aei:expandedSize="DIM {155,488}"
                           aei:name="Update State If Required"
                           aei:objectId="1589572821201397479"
                           aei:showTerminationHandler="false"
                           aei:type="SCOPE"
                           bpmnElement="1589572821201397479"
                           isHorizontal="false">
            <dc:Bounds height="488" width="155" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="11" aei:anchor.objectId="1589560769320353325"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589572821201397505"
                              aei:relative.location="LOC {0,5}"
                              aei:text="Update State If Required"
                              bpmnElement="1589572821201397479label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589572821201397484" aei:type="SEQUENCE"
                           bpmnElement="1589572821201397484"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589572821201397485"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589572821201397485">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589572821201397486" aei:type="IF"
                           bpmnElement="1589572821201397486"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380363"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589572821201397487"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1589572821201397486label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="not($isUpdate) and $isStateEnabled and boolean($newState)"
                           aei:IF_EXPR_LANG="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"
                           aei:objectId="1589572821201397488"
                           aei:type="ELSE_IF"
                           bpmnElement="1589572821201397486ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380367"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589572821201397489"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1589572821201397486ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589572821201397490" aei:type="SEQUENCE"
                           bpmnElement="1589572821201397490"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Security Provider" aei:objectId="1589572821201397491"
                           aei:type="ASSIGN"
                           bpmnElement="1589572821201397491">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Security Provider"
                           aei:objectId="1589572821201397493"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589572821201397493">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Setup Update Request" aei:objectId="1589572821201397494"
                           aei:type="ASSIGN"
                           bpmnElement="1589572821201397494">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:attachments="" aei:name="Update Request Service"
                           aei:objectId="1589572821201397496"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1589572821201397496">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589572821201397497" aei:type="ELSE"
                           bpmnElement="1589572821201397486elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="4" aei:anchor.objectId="1589570267342380373"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1589572821201397498"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1589572821201397486elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1589572821201397499" aei:type="SEQUENCE"
                           bpmnElement="1589572821201397499"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {0,0}" aei:absoluteSize="DIM {-1,-1}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="1589572821201397500"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="1589572821201397500">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1045,2889}" aei:absoluteSize="DIM {215,714}"
                           aei:objectId="1587659798565208051"
                           aei:type="ELSE"
                           bpmnElement="1587659798565208041elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1151,2897}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587659798565208051"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587659798565208053"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1587659798565208041elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1055,2928}" aei:absoluteSize="DIM {195,241}"
                           aei:objectId="1587660884064215961"
                           aei:type="IF"
                           bpmnElement="1587660884064215961"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1168,2931}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587660884064215961"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587660884064215963"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1587660884064215961label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Reject'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {1055,2988}"
                           aei:absoluteSize="DIM {145,121}"
                           aei:objectId="1587660884064215965"
                           aei:type="ELSE_IF"
                           bpmnElement="1587660884064215961ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1105,2996}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587660884064215965"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587660884065215967"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1587660884064215961ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1065,3027}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Reject"
                           aei:objectId="1587660935321216161"
                           aei:type="ASSIGN"
                           bpmnElement="1587660935321216161">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1055,3017}" aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="1587660884065215969"
                           aei:type="Sequence"
                           bpmnElement="1587660935321216161wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1225,2988}" aei:absoluteSize="DIM {25,121}"
                           aei:objectId="1587660884065215971"
                           aei:type="ELSE"
                           bpmnElement="1587660884064215961elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1236,2996}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587660884065215971"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587660884065215973"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1587660884064215961elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1227,3017}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="1587660884065215975"
                           aei:type="SEQUENCE"
                           bpmnElement="1587660884065215975"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1045,2918}" aei:absoluteSize="DIM {215,261}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="1587659798565208055"
                           aei:type="Sequence"
                           bpmnElement="1587660884064215961wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1325,1800}" aei:absoluteSize="DIM {25,1942}"
                           aei:objectId="159345040814505401"
                           aei:type="ELSE"
                           bpmnElement="159345040814505391elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1336,1808}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="159345040814505401"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="159345040814605403"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="159345040814505391elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1327,1829}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="159345040814605405"
                           aei:type="SEQUENCE"
                           bpmnElement="159345040814605405"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,3827}" aei:absoluteSize="DIM {195,475}"
                           aei:objectId="1587661892892225184"
                           aei:type="IF"
                           bpmnElement="1587661892892225184"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {988,3830}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587661892892225184"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587661892892225186"
                              aei:relative.location="LOC {6,-21}"
                              aei:text="If"
                              bpmnElement="1587661892892225184label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Cancel' or $ProcessTaskResponse/mdmavxsd:actionName/text()='Reject' or&#xD;&#xA;$ProcessTaskResponse/mdmavxsd:actionName/text()='Discard'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {875,3887}"
                           aei:absoluteSize="DIM {145,355}"
                           aei:objectId="1587661892892225188"
                           aei:type="ELSE_IF"
                           bpmnElement="1587661892892225184ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {925,3895}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587661892892225188"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587661892892225190"
                              aei:relative.location="LOC {-32,-16}"
                              aei:text="If Condition"
                              bpmnElement="1587661892892225184ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,3916}" aei:absoluteSize="DIM {145,307}"
                           aei:objectId="1587661892892225192"
                           aei:type="SEQUENCE"
                           bpmnElement="1587661892892225192"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,3926}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Security Provider Request"
                           aei:objectId="1587661979600225394"
                           aei:type="ASSIGN"
                           bpmnElement="1587661979600225394">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,4004}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Security Provider"
                           aei:objectId="1587661983421225580"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1587661983421225580">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,4082}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Delete Pending Request"
                           aei:objectId="1587662099793225726"
                           aei:type="ASSIGN"
                           bpmnElement="1587662099793225726">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,4160}" aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="Delete Pending"
                           aei:objectId="1587662102745225864"
                           aei:subprocessPath=""
                           aei:type="INVOKE"
                           bpmnElement="1587662102745225864">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1045,3887}" aei:absoluteSize="DIM {25,355}"
                           aei:objectId="1587661892892225194"
                           aei:type="ELSE"
                           bpmnElement="1587661892892225184elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1056,3895}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1587661892892225194"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587661892892225196"
                              aei:relative.location="LOC {-11,-16}"
                              aei:text="Else"
                              bpmnElement="1587661892892225184elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1047,3916}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="1587661892892225198"
                           aei:type="SEQUENCE"
                           bpmnElement="1587661892892225198"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,4327}" aei:absoluteSize="DIM {195,397}"
                           aei:objectId="1587661205801218238"
                           aei:type="IF"
                           bpmnElement="1587661205801218238"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {988,4333}" aei:absoluteSize="DIM {8,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1472653112445160053"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587661205801218239"
                              aei:relative.location="LOC {6,-18}"
                              aei:text="If"
                              bpmnElement="1587661205801218238label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="$ProcessTaskResponse/mdmavxsd:actionName/text()='Approve' or $ProcessTaskResponse/mdmavxsd:actionName/text()='Reject'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {875,4387}"
                           aei:absoluteSize="DIM {145,277}"
                           aei:objectId="1587661205801218240"
                           aei:type="ELSE_IF"
                           bpmnElement="1587661205801218238ifDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {929,4398}" aei:absoluteSize="DIM {65,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1472653112448160057"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587661205801218249"
                              aei:relative.location="LOC {-28,-13}"
                              aei:text="If Condition"
                              bpmnElement="1587661205801218238ifDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,4416}" aei:absoluteSize="DIM {145,229}"
                           aei:objectId="1587661205801218241"
                           aei:type="SEQUENCE"
                           bpmnElement="1587661205801218241"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,4426}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Setup Notification"
                           aei:objectId="1587661205801218242"
                           aei:type="ASSIGN"
                           bpmnElement="1587661205801218242">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,4504}" aei:absoluteSize="DIM {125,53}"
                           aei:actualOwnerSim=""
                           aei:bpmNotation="UserTask"
                           aei:name="Notification"
                           aei:objectId="1587661205801218246"
                           aei:paSimulationFaultName=""
                           aei:paSimulationOutput=""
                           aei:paSimulationOutputAttachments=""
                           aei:paSimulationResult="0"
                           aei:type="EXTENSION_ACTIVITY"
                           bpmnElement="1587661205801218246">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {885,4582}" aei:absoluteSize="DIM {125,53}"
                           aei:name="Assign Actions"
                           aei:objectId="1587661205801218247"
                           aei:type="ASSIGN"
                           bpmnElement="1587661205801218247">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1045,4387}" aei:absoluteSize="DIM {25,277}"
                           aei:objectId="1587661205801218250"
                           aei:type="ELSE"
                           bpmnElement="1587661205801218238elseDef">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1058,4398}" aei:absoluteSize="DIM {23,16}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="1472653112451160063"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1587661205801218252"
                              aei:relative.location="LOC {-9,-13}"
                              aei:text="Else"
                              bpmnElement="1587661205801218238elseDeflabel">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1047,4416}" aei:absoluteSize="DIM {21,36}"
                           aei:objectId="1587661205801218251"
                           aei:type="SEQUENCE"
                           bpmnElement="1587661205801218251"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {937,4749}" aei:absoluteSize="DIM {70,60}"
                           aei:backgroundColor="RGB {226,226,226}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:borderColor="RGB {0,0,255}"
                           aei:bpmNotation="NoneEvent"
                           aei:collapsed="false"
                           aei:drawBorder="false"
                           aei:font="${system.default}"
                           aei:fontColor="RGB {0,0,0}"
                           aei:imageDisplay="true"
                           aei:imageTextGap="4"
                           aei:joinCondition=""
                           aei:joinConditionLang=""
                           aei:name=""
                           aei:objectId="159609106077125491"
                           aei:scaleImage="false"
                           aei:sizeToFit="true"
                           aei:text=""
                           aei:textAlignment="1"
                           aei:textFormat="1"
                           aei:textPlacement="16"
                           aei:transparent="true"
                           aei:type="NONE_EVENT"
                           bpmnElement="159609106077125491">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
      </bpmndi:BPMNPlane>
   </bpmndi:BPMNDiagram>
   <bpel:extensions>
      <bpel:extension mustUnderstand="no"
                      namespace="http://www.activebpel.org/2009/02/bpel/extension/ignorable"/>
      <bpel:extension mustUnderstand="no" namespace="http://www.omg.org/spec/BPMN/20100524/DI"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2006/09/bpel/extension/query_handling"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2009/06/bpel/extension/links"/>
      <bpel:extension mustUnderstand="yes" namespace="http://www.example.org/WS-HT"/>
      <bpel:extension mustUnderstand="yes" namespace="http://www.example.org/BPEL4People"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2011/08/bpel/extension/script"/>
   </bpel:extensions>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                location="../wsdl/mdm_avos_pl.wsdl"
                namespace="http://www.informatica.com/activevos/mdmworkflow/wsdl/mdmavospl"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/" location="../wsdl/mdm_avos.wsdl"
                namespace="urn:informatica.mdm.av"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                location="../wsdl/SecurityPayloadGeneratorInterface/securitypayloadgeneratorinterface.wsdl"
                namespace="urn:security:payload:securitypayloadgeneratorinterface"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                namespace="http://www.activebpel.org/REST/2007/12/01/aeREST.wsdl"/>
   <bpel:import importType="http://www.w3.org/2001/XMLSchema"
                location="../schema/av_config.xsd"
                namespace="http://www.informatica.com/schema/1.0/av_config.xsd"/>
   <bpel:import importType="http://modules.active-endpoints.com/2009/07/xquery"
                location="../xquery/infa-configuration.xq"
                namespace="http://informatica.com/modules/configuration/1.0/xquery"/>
   <bpel:partnerLinks>
      <bpel:partnerLink aei:id="158757006913757434" myRole="Provider" name="MDMApps"
                        partnerLinkType="mdm_avos_pl:IDDWorkflowPLT"/>
      <bpel:partnerLink aei:id="158757627289881910" name="SecurityProvider"
                        partnerLinkType="securitypayloadgeneratorinterface:SecurityPayloadGeneratorInterfacePLT"
                        partnerRole="java"/>
      <bpel:partnerLink aei:id="158757812026189828" name="CSRest" partnerLinkType="aeREST:RESTPLT"
                        partnerRole="process"/>
      <bpel:partnerLink aei:id="158940087797134967" name="PortalRestProvider"
                        partnerLinkType="aeREST:RESTPLT"
                        partnerRole="process"/>
      <bpel:partnerLink aei:id="1590017685295312713" name="UserRestProvider"
                        partnerLinkType="aeREST:RESTPLT"
                        partnerRole="process"/>
   </bpel:partnerLinks>
   <bpel:variables>
      <bpel:variable element="mdmavxsd:startProcessRequest" name="startProcessRequest"/>
      <bpel:variable name="InfaTask" type="mdmavxsd:INFATask"/>
      <bpel:variable element="mdmavxsd:processTaskResponse" name="ProcessTaskResponse"/>
      <bpel:variable name="TaskRecordsCount" type="xsd:int"/>
      <bpel:variable name="AdminHubUserName" type="xsd:string"/>
      <bpel:variable element="securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest"
                     name="getEncryptedSecurityPayloadRest"/>
      <bpel:variable element="securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRestResponse"
                     name="getEncryptedSecurityPayloadRestResponse"/>
      <bpel:variable element="rest:RESTRequest" name="RESTRequest"/>
      <bpel:variable element="rest:RESTResponse" name="RESTResponse"/>
      <bpel:variable element="rest:RESTResponse" name="ReadBERESTResponse"/>
      <bpel:variable element="mdmavxsd:processTaskRequest" name="ProcessTaskRequest"/>
      <bpel:variable name="actionName" type="xsd:string"/>
      <bpel:variable element="securitypayloadgeneratorinterface:getEncryptedSecurityPayload"
                     name="getEncryptedSecurityPayload"/>
      <bpel:variable element="securitypayloadgeneratorinterface:getEncryptedSecurityPayloadResponse"
                     name="getEncryptedSecurityPayloadResponse"/>
      <bpel:variable name="BCancelApprovedOrReject" type="xsd:boolean">
         <bpel:from>
            <bpel:literal>false</bpel:literal>
         </bpel:from>
      </bpel:variable>
      <bpel:variable name="createDate" type="xsd:string"/>
      <bpel:variable name="isUpdate" type="xsd:boolean">
         <bpel:from>false()</bpel:from>
      </bpel:variable>
      <bpel:variable element="rest:RESTResponse" name="AssignableUsersResponse"/>
      <bpel:variable element="cfg:configuration" name="getConfig"/>
      <bpel:variable name="portalId" type="xsd:string"/>
      <bpel:variable element="rest:RESTResponse" name="PortalConfigResponse"/>
      <bpel:variable name="isStateEnabled" type="xsd:boolean">
         <bpel:from>false()</bpel:from>
      </bpel:variable>
      <bpel:variable name="PortalConfigResponseXML" type="xsd:anyType"/>
      <bpel:variable name="PortalConfigXMLString" type="xsd:string"/>
      <bpel:variable name="draftInd" type="xsd:string"/>
      <bpel:variable name="newState" type="xsd:string"/>
      <bpel:variable name="BEViewName" type="xsd:string"/>
      <bpel:variable name="ContactChildName" type="xsd:string"/>
      <bpel:variable element="rest:RESTResponse" name="ReadBEViewResponse"/>
      <bpel:variable name="portalUserIndPath" type="xsd:string"/>
      <bpel:variable name="ContactsCount" type="xsd:int">
         <bpel:from>
            <bpel:literal>0</bpel:literal>
         </bpel:from>
      </bpel:variable>
      <bpel:variable name="ContactChildXML" type="xsd:anyType"/>
      <bpel:variable name="userName" type="xsd:string"/>
      <bpel:variable name="email" type="xsd:string"/>
      <bpel:variable name="firstName" type="xsd:string"/>
      <bpel:variable name="lastName" type="xsd:string"/>
      <bpel:variable name="ContactChildXMLString" type="xsd:string"/>
      <bpel:variable name="PasswordPolicy" type="xsd:string"/>
      <bpel:variable name="createUserSecurityPayload" type="xsd:string"/>
      <bpel:variable name="findUserSecurityPayload" type="xsd:string"/>
      <bpel:variable name="portalUserInd" type="xsd:string"/>
      <bpel:variable name="deleteUserSecurityPayload" type="xsd:string"/>
   </bpel:variables>
   <bpel:sequence aei:id="158757006916957447">
      <bpel:receive aei:id="158757006913757429" createInstance="yes" name="Start" operation="start"
                    partnerLink="MDMApps"
                    variable="startProcessRequest"/>
      <bpel:scope aei:implicit="true" name="Reply_with_Process_id_">
         <bpel:variables>
            <bpel:variable messageType="mdm_avos:startProcessResponse" name="parameters"/>
         </bpel:variables>
         <bpel:sequence>
            <bpel:assign aei:assignType="XQUERY" aei:id="1577001567147392575">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;types1:startProcessResponse xmlns:types1="urn:informatica.mdm.av.xsd"&gt;
   &lt;types1:processId&gt;{ abx:getProcessId() }&lt;/types1:processId&gt;
&lt;/types1:startProcessResponse&gt;
</bpel:from>
                  <bpel:to part="startProcessResponse" variable="parameters"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:reply aei:id="158757006913757427" name="Reply_with_Process_id_" operation="start"
                        partnerLink="MDMApps"
                        variable="parameters"/>
         </bpel:sequence>
      </bpel:scope>
      <bpel:assign aei:id="158757341239261246" name="Initialze_Data">
         <bpel:copy>
            <bpel:from variable="startProcessRequest">
               <bpel:query>mdmavxsd:INFATask</bpel:query>
            </bpel:from>
            <bpel:to variable="InfaTask"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from variable="startProcessRequest">
               <bpel:query>mdmavxsd:INFATask</bpel:query>
            </bpel:from>
            <bpel:to variable="ProcessTaskResponse">
               <bpel:query>mdmavxsd:INFATask</bpel:query>
            </bpel:to>
         </bpel:copy>
         <bpel:copy>
            <bpel:from variable="startProcessRequest">
               <bpel:query>count(mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey)</bpel:query>
            </bpel:from>
            <bpel:to variable="TaskRecordsCount"/>
         </bpel:copy>
         <bpel:extensionAssignOperation>
            <ext2:script>abx:copyAllAttachments( 'startProcessRequest' , '_peopleActivityAttachments' )</ext2:script>
         </bpel:extensionAssignOperation>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">abx:getCatalogResource("project:/InfaPortalWorkflows/config/configuration.xml")</bpel:from>
            <bpel:to variable="getConfig"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,'hub.admin.user')</bpel:from>
            <bpel:to variable="AdminHubUserName"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:assign aei:id="158757572192781302" name="Prepare_Encrypt">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "previewPromoteUsingGET" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
            <bpel:to variable="getEncryptedSecurityPayloadRest"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:invoke aei:id="158757573157181476" inputVariable="getEncryptedSecurityPayloadRest"
                   name="Encrypt_Security"
                   operation="getEncryptedSecurityPayloadRest"
                   outputVariable="getEncryptedSecurityPayloadRestResponse"
                   partnerLink="SecurityProvider"/>
      <bpel:assign aei:id="158757834774391040" name="Read_Business_Entity">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="readSystemFields" value="true"/&gt;
&lt;rest:param name="recordStates" value="ACTIVE,PENDING"/&gt;
&lt;rest:param name="addFieldsToOriginal" value="true"/&gt;
&lt;rest:param name="depth" value="10"/&gt;
&lt;rest:param name="action" value="previewPromote"/&gt;
&lt;rest:param name="interactionId" value="{$InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
            <bpel:to variable="RESTRequest"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:invoke aei:id="158757835200691116" inputVariable="RESTRequest"
                   name="Read_Business_Entity"
                   operation="requestResponse"
                   outputVariable="ReadBERESTResponse"
                   partnerLink="CSRest"/>
      <bpel:assign aei:id="158775555332465293" name="Initilize_Data">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">current-dateTime()</bpel:from>
            <bpel:to variable="createDate"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">if ($ReadBERESTResponse/rest:payload/*/ns2:hubStateInd/text()='1') then ( true() ) else ( false() )</bpel:from>
            <bpel:to variable="isUpdate"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue(abx:elementToXMLString($ReadBERESTResponse/rest:payload),cfgx:getPropertyValue( $getConfig,"portal.portalId.path" ))</bpel:from>
            <bpel:to variable="portalId"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue(abx:elementToXMLString($ReadBERESTResponse/rest:payload),cfgx:getPropertyValue( $getConfig,"portal.draft.path" ))</bpel:from>
            <bpel:to variable="draftInd"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:if aei:id="158940124056873949">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean($portalId)</bpel:condition>
         <bpel:sequence aei:id="158940124057073957">
            <bpel:assign aei:id="158940131153174149" name="Get_Portal_Config">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/global/portals/",$portalId,"?projections=generalSettings")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="158940132126174419" inputVariable="RESTRequest"
                         name="Get_Portal_Config"
                         operation="requestResponse"
                         outputVariable="PortalConfigResponse"
                         partnerLink="PortalRestProvider"/>
            <bpel:assign aei:id="1588154564074464533" name="Initialize_Portal_Data">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:jsonToXML( string($PortalConfigResponse/rest:payload/text()) )</bpel:from>
                  <bpel:to variable="PortalConfigXMLString"/>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from>abx:xmlStringToElement( $PortalConfigXMLString )</bpel:from>
                  <bpel:to variable="PortalConfigResponseXML"/>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$PortalConfigResponseXML/isStateEnabled</bpel:from>
                  <bpel:to variable="isStateEnabled"/>
               </bpel:copy>
            </bpel:assign>
         </bpel:sequence>
         <bpel:else aei:id="158940124057173959">
            <bpel:empty aei:id="158940124057173963" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:if aei:id="1588156668007469109">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$draftInd = 'Y'</bpel:condition>
         <bpel:sequence aei:id="1588156668008469117">
            <bpel:assign aei:id="1588005138408182877" name="Setup_Draft_State">
               <bpel:copy>
                  <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
                  <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
    &lt;mdmavxsd:name&gt;AVOSBeDraftState&lt;/mdmavxsd:name&gt;
    &lt;mdmavxsd:displayName&gt;Draft State&lt;/mdmavxsd:displayName&gt;
    &lt;mdmavxsd:description&gt;Draft State step in the workflow&lt;/mdmavxsd:description&gt;
    &lt;mdmavxsd:pendingBVT&gt;true&lt;/mdmavxsd:pendingBVT&gt;
    &lt;mdmavxsd:dataUpdateType&gt;PENDING&lt;/mdmavxsd:dataUpdateType&gt;
    &lt;mdmavxsd:defaultApproval&gt;true&lt;/mdmavxsd:defaultApproval&gt;
    &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
&lt;/mdmavxsd:taskType&gt;</bpel:from>
                  <bpel:to expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Submit&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeFinalReview&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Discard&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
&lt;/mdmavxsd:actions&gt;</bpel:from>
                  <bpel:to variable="ProcessTaskRequest">
                     <bpel:query>mdmavxsd:INFATask/mdmavxsd:actions</bpel:query>
                  </bpel:to>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">count( $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey)</bpel:from>
                  <bpel:to variable="TaskRecordsCount"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:extensionActivity>
               <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                                   aei:id="1588005142210183053"
                                   inputVariable="ProcessTaskRequest"
                                   name="Draft_State"
                                   outputVariable="ProcessTaskResponse">
                  <b4p:localTask xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                                 reference="DraftState">
                     <htd:peopleAssignments/>
                  </b4p:localTask>
                  <b4p:attachmentPropagation xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd" fromProcess="all"
                                             toProcess="newOnly"/>
               </b4p:peopleActivity>
            </bpel:extensionActivity>
         </bpel:sequence>
         <bpel:else aei:id="1588156668010469119">
            <bpel:empty aei:id="1588156668010469123" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:assign aei:id="1588023865302190181" name="Assign_Actions">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">if ( $draftInd = 'Y' ) then (concat($InfaTask/mdmavxsd:taskData/mdmavxsd:creator/text(),",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###")) else (concat($InfaTask/mdmavxsd:taskData/mdmavxsd:creator/text(),",Submit,",current-dateTime(),"###"))</bpel:from>
            <bpel:to variable="actionName"/>
         </bpel:copy>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">if( $draftInd = 'Y' ) then (cfgx:getPropertyValue( $getConfig,concat("portal.", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text(),".",$ProcessTaskResponse/mdmavxsd:actionName/text()))) else (cfgx:getPropertyValue($getConfig,'portal.direct.Submit') )</bpel:from>
            <bpel:to variable="newState"/>
         </bpel:copy>
      </bpel:assign>
      <bpel:scope aei:id="1589560769320353325" name="Update_State_If_Required">
         <bpel:sequence aei:id="1589560769321353345">
            <bpel:empty aei:id="1589560769322353347"/>
            <bpel:if aei:id="1589570267342380363">
               <bpel:condition>not($isUpdate) and $isStateEnabled and boolean($newState)</bpel:condition>
               <bpel:sequence aei:id="1589570267342380371">
                  <bpel:assign aei:id="1589560798365353525" name="Security_Provider">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text()}&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{"updateEntityUsingPOST"}&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{"avos"}&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                        <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke aei:id="1589560803058353669" inputVariable="getEncryptedSecurityPayloadRest"
                               name="Security_Provider"
                               operation="getEncryptedSecurityPayloadRest"
                               outputVariable="getEncryptedSecurityPayloadRestResponse"
                               partnerLink="SecurityProvider"/>
                  <bpel:assign aei:id="1589560805180353769" name="Setup_Update_Request">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/state/",$portalId,"?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","portalState":"{$newState}","interactionId":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}"}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                        <bpel:to variable="RESTRequest"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke aei:id="1589560811304353929" inputVariable="RESTRequest"
                               name="Update_Request_Service"
                               operation="requestResponse"
                               outputVariable="RESTResponse"
                               partnerLink="PortalRestProvider"/>
               </bpel:sequence>
               <bpel:else aei:id="1589570267342380373">
                  <bpel:empty aei:id="1589570267343380377" aei:implicit="yes"/>
               </bpel:else>
            </bpel:if>
            <bpel:empty aei:id="1589560769322353349"/>
         </bpel:sequence>
      </bpel:scope>
      <bpel:if aei:id="159345040814505391">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Submit' or $draftInd = 'N'</bpel:condition>
         <bpel:sequence aei:id="159345040814505399">
            <bpel:if aei:id="159348322934712605">
               <bpel:condition>$draftInd = 'Y'</bpel:condition>
               <bpel:scope aei:id="159347986643108037">
                  <bpel:sequence aei:id="159347986643308057">
                     <bpel:empty aei:id="159347986643308059"/>
                     <bpel:assign aei:id="159347992364808231" name="Security_Provider">
                        <bpel:copy>
                           <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "updateEntityUsingPOST" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                           <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                        </bpel:copy>
                     </bpel:assign>
                     <bpel:invoke aei:id="159347992899808417" inputVariable="getEncryptedSecurityPayloadRest"
                                  name="Security_Provider"
                                  operation="getEncryptedSecurityPayloadRest"
                                  outputVariable="getEncryptedSecurityPayloadRestResponse"
                                  partnerLink="SecurityProvider"/>
                     <bpel:assign aei:id="159347993465108525" name="Update_Draft_State">
                        <bpel:copy>
                           <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text(),'?','systemName=Admin','&amp;amp;','interactionId=',$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="systemName" value="Admin"/&gt;
&lt;rest:param name="interactionId" value="{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","{cfgx:getPropertyValue( $getConfig,"portal.draft.path" )}":"N","$original":{{"{cfgx:getPropertyValue( $getConfig,"portal.draft.path" )}":"Y"}}}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                           <bpel:to variable="RESTRequest"/>
                        </bpel:copy>
                     </bpel:assign>
                     <bpel:invoke aei:id="159347993784308731" inputVariable="RESTRequest"
                                  name="Update_Draft_State"
                                  operation="requestResponse"
                                  outputVariable="RESTResponse"
                                  partnerLink="CSRest"/>
                     <bpel:empty aei:id="159347986643308061"/>
                  </bpel:sequence>
               </bpel:scope>
               <bpel:else aei:id="159348322934812615">
                  <bpel:empty aei:id="159348322934812619" aei:implicit="yes"/>
               </bpel:else>
            </bpel:if>
            <bpel:assign aei:id="1588003959638137426" name="Security_Provider">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "listAssignableUsersUsingGet" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                  <bpel:to variable="getEncryptedSecurityPayloadRest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1588003959638137425" inputVariable="getEncryptedSecurityPayloadRest"
                         name="Security_Provider"
                         operation="getEncryptedSecurityPayloadRest"
                         outputVariable="getEncryptedSecurityPayloadRestResponse"
                         partnerLink="SecurityProvider"/>
            <bpel:assign aei:id="1588003959638137423" name="List_Assignable_Users">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/user')}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="taskType" value="AVOSBeFinalReview"/&gt;
&lt;rest:param name="businessEntity" value="{$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1588003959638137422" inputVariable="RESTRequest"
                         name="List_Assignable_Users"
                         operation="requestResponse"
                         outputVariable="AssignableUsersResponse"
                         partnerLink="CSRest"/>
            <bpel:repeatUntil aei:id="1587657634408204757">
               <bpel:condition>$BCancelApprovedOrReject</bpel:condition>
               <bpel:sequence aei:id="1587657634408204761">
                  <bpel:assign aei:id="1587585575693172906" name="Setup_Final_Review">
                     <bpel:copy>
                        <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
                        <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
    &lt;mdmavxsd:name&gt;AVOSBeFinalReview&lt;/mdmavxsd:name&gt;
    &lt;mdmavxsd:displayName&gt;Final Review&lt;/mdmavxsd:displayName&gt;
    &lt;mdmavxsd:description&gt;Final Review step in the workflow&lt;/mdmavxsd:description&gt;
    &lt;mdmavxsd:pendingBVT&gt;true&lt;/mdmavxsd:pendingBVT&gt;
    &lt;mdmavxsd:dataUpdateType&gt;PENDING&lt;/mdmavxsd:dataUpdateType&gt;
    &lt;mdmavxsd:defaultApproval&gt;true&lt;/mdmavxsd:defaultApproval&gt;
    &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
&lt;/mdmavxsd:taskType&gt;</bpel:from>
                        <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Approve&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeNotification&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Reject&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
	&lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Disclaim&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;true&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeFinalReview&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
    &lt;mdmavxsd:INFATaskAction&gt;
		&lt;mdmavxsd:name&gt;Send Back&lt;/mdmavxsd:name&gt;
		&lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
		&lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
		&lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
        &lt;mdmavxsd:nextTaskType&gt;AVOSBeUpdate&lt;/mdmavxsd:nextTaskType&gt;
	&lt;/mdmavxsd:INFATaskAction&gt;
&lt;/mdmavxsd:actions&gt;</bpel:from>
                        <bpel:to variable="ProcessTaskRequest">
                           <bpel:query>mdmavxsd:INFATask/mdmavxsd:actions</bpel:query>
                        </bpel:to>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from>count( $ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey)</bpel:from>
                        <bpel:to variable="TaskRecordsCount"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:extensionActivity>
                     <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                                         aei:id="1587585443834172669"
                                         inputVariable="ProcessTaskRequest"
                                         name="Final_Review"
                                         outputVariable="ProcessTaskResponse">
                        <b4p:localTask xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                                       reference="FinalReviewTask">
                           <htd:peopleAssignments/>
                        </b4p:localTask>
                        <b4p:attachmentPropagation xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd" fromProcess="all"
                                                   toProcess="newOnly"/>
                     </b4p:peopleActivity>
                  </bpel:extensionActivity>
                  <bpel:assign aei:id="1587659137733205019" name="Assign_Action">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat($ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:updatedBy/text() ,",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###")</bpel:from>
                        <bpel:to variable="actionName"/>
                     </bpel:copy>
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat("portal.", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text(),".",$ProcessTaskResponse/mdmavxsd:actionName/text()))</bpel:from>
                        <bpel:to variable="newState"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:scope aei:id="1589573044389410507" name="Update_State_If_Required">
                     <bpel:sequence aei:id="1589573044389410512">
                        <bpel:empty aei:id="1589573044389410513"/>
                        <bpel:if aei:id="1589573044389410514">
                           <bpel:condition>not($isUpdate) and $isStateEnabled and boolean($newState)</bpel:condition>
                           <bpel:sequence aei:id="1589573044389410518">
                              <bpel:assign aei:id="1589573044389410519" name="Security_Provider">
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text()}&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{"updateEntityUsingPOST"}&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{"avos"}&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                    <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                 </bpel:copy>
                              </bpel:assign>
                              <bpel:invoke aei:id="1589573044389410521" inputVariable="getEncryptedSecurityPayloadRest"
                                           name="Security_Provider"
                                           operation="getEncryptedSecurityPayloadRest"
                                           outputVariable="getEncryptedSecurityPayloadRestResponse"
                                           partnerLink="SecurityProvider"/>
                              <bpel:assign aei:id="1589573044389410522" name="Setup_Update_Request">
                                 <bpel:copy>
                                    <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/state/",$portalId,"?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","portalState":"{$newState}","interactionId":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}"}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                    <bpel:to variable="RESTRequest"/>
                                 </bpel:copy>
                              </bpel:assign>
                              <bpel:invoke aei:id="1589573044389410524" inputVariable="RESTRequest"
                                           name="Update_Request_Service"
                                           operation="requestResponse"
                                           outputVariable="RESTResponse"
                                           partnerLink="PortalRestProvider"/>
                           </bpel:sequence>
                           <bpel:else aei:id="1589573044389410525">
                              <bpel:empty aei:id="1589573044389410527" aei:implicit="yes"/>
                           </bpel:else>
                        </bpel:if>
                        <bpel:empty aei:id="1589573044389410528"/>
                     </bpel:sequence>
                  </bpel:scope>
                  <bpel:if aei:id="1587659798565208041">
                     <bpel:condition>$ProcessTaskResponse/mdmavxsd:actionName/text()='Approve'</bpel:condition>
                     <bpel:sequence aei:id="1587659798565208049">
                        <bpel:assign aei:id="1587661314234220472" name="Security_Provider_Request">
                           <bpel:copy>
                              <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "promoteUsingPost" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                              <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                           </bpel:copy>
                        </bpel:assign>
                        <bpel:invoke aei:id="1587661318957220576" inputVariable="getEncryptedSecurityPayloadRest"
                                     name="Security_Provider"
                                     operation="getEncryptedSecurityPayloadRest"
                                     outputVariable="getEncryptedSecurityPayloadRestResponse"
                                     partnerLink="SecurityProvider"/>
                        <bpel:assign aei:id="1587661545286220768" name="Promote_Pending_Request">
                           <bpel:copy>
                              <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
  &lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text(),'?action=promote','&amp;amp;','interactionId=',$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="action" value="promote"/&gt;
&lt;rest:param name="interactionId" value="{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                              <bpel:to variable="RESTRequest"/>
                           </bpel:copy>
                        </bpel:assign>
                        <bpel:invoke aei:id="1587661555347220906" inputVariable="RESTRequest" name="Promote_Pending"
                                     operation="requestResponse"
                                     outputVariable="RESTResponse"
                                     partnerLink="CSRest"/>
                        <bpel:assign aei:id="1587768870375102277" name="Set_Approve">
                           <bpel:copy>
                              <bpel:from>
                                 <bpel:literal>true</bpel:literal>
                              </bpel:from>
                              <bpel:to variable="BCancelApprovedOrReject"/>
                           </bpel:copy>
                        </bpel:assign>
                        <bpel:if aei:id="1590228999701492768">
                           <bpel:condition>boolean($portalId)</bpel:condition>
                           <bpel:scope aei:id="158983092020983689" name="User_Management">
                              <bpel:sequence aei:id="158983092021083709">
                                 <bpel:empty aei:id="158983092021083711"/>
                                 <bpel:assign aei:id="158983098130984029" name="Initialize_data">
                                    <bpel:copy>
                                       <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$PortalConfigResponseXML/userManagement/bevName/text()</bpel:from>
                                       <bpel:to variable="BEViewName"/>
                                    </bpel:copy>
                                    <bpel:copy>
                                       <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">if( contains($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text(),".") ) then (tokenize($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text(),"\.")[1]) else (string(''))</bpel:from>
                                       <bpel:to variable="ContactChildName"/>
                                    </bpel:copy>
                                    <bpel:copy>
                                       <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat('"passwordPolicy":{"maximumPasswordLength":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.maximumPasswordLength' ) ,',"minimumPasswordLength":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.minimumPasswordLength' ),',"minimumUniqueCharacters":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.minimumUniqueCharacters'),',"patternValidationEnabled":',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.patternValidationEnabled' ),',"passwordBeginningPattern":"',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.passwordBeginningPattern' ),'","passwordMiddlePattern":"',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.passwordMiddlePattern' ),'","passwordEndPattern":"',cfgx:getPropertyValue( $getConfig,'portal.passwordpolicy.passwordEndPattern' ),'"}')</bpel:from>
                                       <bpel:to variable="PasswordPolicy"/>
                                    </bpel:copy>
                                    <bpel:copy>
                                       <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat('portal.', $BEViewName,'.userInd.path') )</bpel:from>
                                       <bpel:to variable="portalUserIndPath"/>
                                    </bpel:copy>
                                 </bpel:assign>
                                 <bpel:assign aei:id="158983221075387747" name="Security_Provider">
                                    <bpel:copy>
                                       <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "readEntityUsingGET" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                       <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                    </bpel:copy>
                                 </bpel:assign>
                                 <bpel:invoke aei:id="158983221398787935" inputVariable="getEncryptedSecurityPayloadRest"
                                              name="Security_Provider"
                                              operation="getEncryptedSecurityPayloadRest"
                                              outputVariable="getEncryptedSecurityPayloadRestResponse"
                                              partnerLink="SecurityProvider"/>
                                 <bpel:assign aei:id="158983218849387415" name="Read_BE_View">
                                    <bpel:copy>
                                       <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/', $BEViewName ,'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="readSystemFields" value="true"/&gt;
&lt;rest:param name="recordStates" value="ACTIVE,PENDING"/&gt;
&lt;rest:param name="depth" value="10"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                       <bpel:to variable="RESTRequest"/>
                                    </bpel:copy>
                                 </bpel:assign>
                                 <bpel:invoke aei:id="158983219161087607" inputVariable="RESTRequest" name="Read_BE_View"
                                              operation="requestResponse"
                                              outputVariable="ReadBEViewResponse"
                                              partnerLink="CSRest"/>
                                 <bpel:if aei:id="1590052373285365935">
                                    <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean( $ContactChildName )</bpel:condition>
                                    <bpel:scope aei:id="1590052426593371429" name="User_Management_for_one_to_many_Child">
                                       <bpel:sequence aei:id="1590052426610371449">
                                          <bpel:empty aei:id="1590052426612371451"/>
                                          <bpel:assign aei:id="158983258170397339" name="Get_Potal_User_Ind">
                                             <bpel:copy>
                                                <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getNodeValue( abx:elementToXMLString($ReadBEViewResponse/rest:payload), $ContactChildName )</bpel:from>
                                                <bpel:to variable="ContactChildXMLString"/>
                                             </bpel:copy>
                                             <bpel:copy>
                                                <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">abx:xmlStringToElement( $ContactChildXMLString )</bpel:from>
                                                <bpel:to variable="ContactChildXML"/>
                                             </bpel:copy>
                                             <bpel:copy>
                                                <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">count($ContactChildXML/ns4:item)</bpel:from>
                                                <bpel:to variable="ContactsCount"/>
                                             </bpel:copy>
                                          </bpel:assign>
                                          <bpel:if aei:id="1590052453559378857">
                                             <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean( $ContactChildXML )</bpel:condition>
                                             <bpel:if aei:id="1590052456397380097">
                                                <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ContactsCount &gt; 0</bpel:condition>
                                                <bpel:repeatUntil aei:id="1590052541224384955">
                                                   <bpel:condition>$ContactsCount = 0</bpel:condition>
                                                   <bpel:sequence aei:id="1590052541225384959">
                                                      <bpel:assign aei:id="1590052627682390900" name="Initialize_User_Data">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath( string( $PortalConfigResponseXML/userManagement/fieldMapping/firstName/code/text()), $ContactChildName ), false() )</bpel:from>
                                                            <bpel:to variable="firstName"/>
                                                         </bpel:copy>
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath(string($PortalConfigResponseXML/userManagement/fieldMapping/lastName/code/text()), $ContactChildName), false() )</bpel:from>
                                                            <bpel:to variable="lastName"/>
                                                         </bpel:copy>
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath(string($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text()), $ContactChildName ), false() )</bpel:from>
                                                            <bpel:to variable="userName"/>
                                                         </bpel:copy>
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath(string($PortalConfigResponseXML/userManagement/fieldMapping/email/code/text()), $ContactChildName ) , false() )</bpel:from>
                                                            <bpel:to variable="email"/>
                                                         </bpel:copy>
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString($ContactChildXML/ns4:item[ $ContactsCount ]) , solution:getUserDataPath( string( $portalUserIndPath ), $ContactChildName ), false() )</bpel:from>
                                                            <bpel:to variable="portalUserInd"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:assign aei:id="1590052627682390906" name="Security_Provider">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $InfaTask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                            <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:invoke aei:id="1590052627682390908" inputVariable="getEncryptedSecurityPayloadRest"
                                                                   name="Security_Provider"
                                                                   operation="getEncryptedSecurityPayloadRest"
                                                                   outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                   partnerLink="SecurityProvider"/>
                                                      <bpel:assign aei:id="1590052627682390909" name="Find_User">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/entities/", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text() ,"/users?username=",$userName)}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                            <bpel:to variable="RESTRequest"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:invoke aei:id="1590052627682390911" inputVariable="RESTRequest"
                                                                   name="Find_User_Service"
                                                                   operation="requestResponse"
                                                                   outputVariable="RESTResponse"
                                                                   partnerLink="PortalRestProvider"/>
                                                      <bpel:if aei:id="1590052668440396692">
                                                         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean($portalUserIndPath) and $portalUserInd = 'true' and not(boolean($RESTResponse/rest:payload/text()))</bpel:condition>
                                                         <bpel:sequence aei:id="1590052668442396700">
                                                            <bpel:assign aei:id="1590052777654398713" name="Security_Provider">
                                                               <bpel:copy>
                                                                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "createUserUsingPost" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                                  <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                               </bpel:copy>
                                                            </bpel:assign>
                                                            <bpel:invoke aei:id="1590052777654398715" inputVariable="getEncryptedSecurityPayloadRest"
                                                                         name="Security_Provider"
                                                                         operation="getEncryptedSecurityPayloadRest"
                                                                         outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                         partnerLink="SecurityProvider"/>
                                                            <bpel:assign aei:id="1590052777654398716" name="Create_User">
                                                               <bpel:copy>
                                                                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/entities/", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text() ,"/users?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"userData": {{"userName": "{ $userName }","orsId": "{$InfaTask/mdmavxsd:orsId/text()}","email": "{ $email }","firstName": "{ $firstName }","lastName": "{ $lastName }"}}, {$PasswordPolicy},"forgotPasswordUrl":"{abx:resolveURN("urn:forgot:password:url")}" }}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                                  <bpel:to variable="RESTRequest"/>
                                                               </bpel:copy>
                                                            </bpel:assign>
                                                            <bpel:invoke aei:id="1590052777654398718" inputVariable="RESTRequest"
                                                                         name="Create_User_Service"
                                                                         operation="requestResponse"
                                                                         outputVariable="RESTResponse"
                                                                         partnerLink="PortalRestProvider"/>
                                                         </bpel:sequence>
                                                         <!-- portalUserIndPath path defefined in configuration xml file and indicator value is false --><bpel:elseif aei:id="1590052673282396750">
                                                            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean($portalUserIndPath) and $portalUserInd = 'false' and boolean($RESTResponse/rest:payload/text())</bpel:condition>
                                                            <bpel:sequence aei:id="1590052673283396754">
                                                               <bpel:assign aei:id="1590052793210400495" name="Security_Provider">
                                                                  <bpel:copy>
                                                                     <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "deleteUserUsingDELETE" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                                     <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                                  </bpel:copy>
                                                               </bpel:assign>
                                                               <bpel:invoke aei:id="1590052793210400497" inputVariable="getEncryptedSecurityPayloadRest"
                                                                            name="Security_Provider"
                                                                            operation="getEncryptedSecurityPayloadRest"
                                                                            outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                            partnerLink="SecurityProvider"/>
                                                               <bpel:assign aei:id="1590052793210400498" name="Delete_User">
                                                                  <bpel:copy>
                                                                     <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;DELETE&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{$userName}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt; 
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                                     <bpel:to variable="RESTRequest"/>
                                                                  </bpel:copy>
                                                               </bpel:assign>
                                                               <bpel:invoke aei:id="1590052793210400500" inputVariable="RESTRequest" name="Delete_User"
                                                                            operation="requestResponse"
                                                                            outputVariable="RESTResponse"
                                                                            partnerLink="UserRestProvider"/>
                                                            </bpel:sequence>
                                                         </bpel:elseif>
                                                         <!-- portalUserIndPath path is not defefined in configuration xml --><bpel:elseif aei:id="159103546078089685">
                                                            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">not(boolean($portalUserIndPath)) and not(boolean($RESTResponse/rest:payload/text()))</bpel:condition>
                                                            <bpel:sequence aei:id="159103546078089689">
                                                               <bpel:assign aei:id="159102905121153442" name="Security_Provider">
                                                                  <bpel:copy>
                                                                     <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "createUserUsingPost" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                                     <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                                  </bpel:copy>
                                                               </bpel:assign>
                                                               <bpel:invoke aei:id="159102905121153444" inputVariable="getEncryptedSecurityPayloadRest"
                                                                            name="Security_Provider"
                                                                            operation="getEncryptedSecurityPayloadRest"
                                                                            outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                            partnerLink="SecurityProvider"/>
                                                               <bpel:assign aei:id="159102905121153445" name="Create_User">
                                                                  <bpel:copy>
                                                                     <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/entities/", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text() ,"/users?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"userData": {{"userName": "{ $userName }","orsId": "{$InfaTask/mdmavxsd:orsId/text()}","email": "{ $email }","firstName": "{ $firstName }","lastName": "{ $lastName }"}}, {$PasswordPolicy},"forgotPasswordUrl":"{abx:resolveURN("urn:forgot:password:url")}" }}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                                     <bpel:to variable="RESTRequest"/>
                                                                  </bpel:copy>
                                                               </bpel:assign>
                                                               <bpel:invoke aei:id="159102905121153447" inputVariable="RESTRequest"
                                                                            name="Create_User_Service"
                                                                            operation="requestResponse"
                                                                            outputVariable="RESTResponse"
                                                                            partnerLink="PortalRestProvider"/>
                                                            </bpel:sequence>
                                                         </bpel:elseif>
                                                         <bpel:else aei:id="1590052668444396702">
                                                            <bpel:empty aei:id="1590052668445396706" aei:implicit="yes"/>
                                                         </bpel:else>
                                                      </bpel:if>
                                                      <bpel:assign aei:id="1590064536260482938" name="Decrement_Count">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ContactsCount - 1</bpel:from>
                                                            <bpel:to variable="ContactsCount"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                   </bpel:sequence>
                                                </bpel:repeatUntil>
                                                <bpel:else aei:id="1590052456402380107">
                                                   <bpel:empty aei:id="1590052456403380111" aei:implicit="yes"/>
                                                </bpel:else>
                                             </bpel:if>
                                             <bpel:else aei:id="1590052453563378867">
                                                <bpel:empty aei:id="1590052453564378871" aei:implicit="yes"/>
                                             </bpel:else>
                                          </bpel:if>
                                          <bpel:empty aei:id="1590052426614371453"/>
                                       </bpel:sequence>
                                    </bpel:scope>
                                    <bpel:else aei:id="1590052373290365945">
                                       <bpel:scope aei:id="1590053168701410992" name="User_Management_for_one_to_one_child">
                                          <bpel:sequence aei:id="1590053168706411012">
                                             <bpel:empty aei:id="1590053168708411014"/>
                                             <bpel:assign aei:id="1590053684508424187" name="Initialize_User_Data">
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/firstName/code/text()) )</bpel:from>
                                                   <bpel:to variable="firstName"/>
                                                </bpel:copy>
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/lastName/code/text()) )</bpel:from>
                                                   <bpel:to variable="lastName"/>
                                                </bpel:copy>
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/userName/code/text()) )</bpel:from>
                                                   <bpel:to variable="userName"/>
                                                </bpel:copy>
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($PortalConfigResponseXML/userManagement/fieldMapping/email/code/text()) )</bpel:from>
                                                   <bpel:to variable="email"/>
                                                </bpel:copy>
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">solution:getTextValue( abx:elementToXMLString( $ReadBEViewResponse/rest:payload ) , string($portalUserIndPath) )</bpel:from>
                                                   <bpel:to variable="portalUserInd"/>
                                                </bpel:copy>
                                             </bpel:assign>
                                             <bpel:assign aei:id="1590053703643429844" name="Security_Provider">
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $InfaTask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                   <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                </bpel:copy>
                                             </bpel:assign>
                                             <bpel:invoke aei:id="1590053703643429846" inputVariable="getEncryptedSecurityPayloadRest"
                                                          name="Security_Provider"
                                                          operation="getEncryptedSecurityPayloadRest"
                                                          outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                          partnerLink="SecurityProvider"/>
                                             <bpel:assign aei:id="1590053703643429847" name="Find_User">
                                                <bpel:copy>
                                                   <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;GET&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/entities/", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text() ,"/users?username=",$userName)}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                   <bpel:to variable="RESTRequest"/>
                                                </bpel:copy>
                                             </bpel:assign>
                                             <bpel:invoke aei:id="1590053703643429849" inputVariable="RESTRequest"
                                                          name="Find_User_Service"
                                                          operation="requestResponse"
                                                          outputVariable="RESTResponse"
                                                          partnerLink="PortalRestProvider"/>
                                             <bpel:if aei:id="1590053818134431578">
                                                <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean($portalUserIndPath) and $portalUserInd = 'true' and not(boolean($RESTResponse/rest:payload/text()))</bpel:condition>
                                                <bpel:sequence aei:id="1590053818136431586">
                                                   <bpel:assign aei:id="1590053880851434207" name="Security_Provider">
                                                      <bpel:copy>
                                                         <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "createUserUsingPost" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                         <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                      </bpel:copy>
                                                   </bpel:assign>
                                                   <bpel:invoke aei:id="1590053880851434209" inputVariable="getEncryptedSecurityPayloadRest"
                                                                name="Security_Provider"
                                                                operation="getEncryptedSecurityPayloadRest"
                                                                outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                partnerLink="SecurityProvider"/>
                                                   <bpel:assign aei:id="1590053880851434210" name="Create_User">
                                                      <bpel:copy>
                                                         <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/entities/", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text() ,"/users?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"userData": {{"userName": "{ $userName }","orsId": "{$InfaTask/mdmavxsd:orsId/text()}","email": "{ $email }","firstName": "{ $firstName }","lastName": "{ $lastName }"}}, {$PasswordPolicy},"forgotPasswordUrl":"{abx:resolveURN("urn:forgot:password:url")}" }}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                         <bpel:to variable="RESTRequest"/>
                                                      </bpel:copy>
                                                   </bpel:assign>
                                                   <bpel:invoke aei:id="1590053880851434212" inputVariable="RESTRequest"
                                                                name="Create_User_Service"
                                                                operation="requestResponse"
                                                                outputVariable="RESTResponse"
                                                                partnerLink="PortalRestProvider"/>
                                                </bpel:sequence>
                                                <!-- portalUserIndPath path defefined in configuration xml file and indicator value is false --><bpel:elseif aei:id="1590053833285431642">
                                                   <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">boolean($portalUserIndPath) and $portalUserInd = 'false' and boolean($RESTResponse/rest:payload/text())</bpel:condition>
                                                   <bpel:sequence aei:id="1590053833286431646">
                                                      <bpel:assign aei:id="1590053919297448567" name="Security_Provider">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "deleteUserUsingDELETE" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                            <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:invoke aei:id="1590053919297448569" inputVariable="getEncryptedSecurityPayloadRest"
                                                                   name="Security_Provider"
                                                                   operation="getEncryptedSecurityPayloadRest"
                                                                   outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                   partnerLink="SecurityProvider"/>
                                                      <bpel:assign aei:id="1590053919297448570" name="Delete_User">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;DELETE&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{$userName}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt; 
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                            <bpel:to variable="RESTRequest"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:invoke aei:id="1590053919297448572" inputVariable="RESTRequest" name="Delete_User"
                                                                   operation="requestResponse"
                                                                   outputVariable="RESTResponse"
                                                                   partnerLink="UserRestProvider"/>
                                                   </bpel:sequence>
                                                </bpel:elseif>
                                                <!-- portalUserIndPath path is not defefined in configuration xml --><bpel:elseif aei:id="159103565580594241">
                                                   <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">not(boolean($portalUserIndPath)) and not(boolean($RESTResponse/rest:payload/text()))</bpel:condition>
                                                   <bpel:sequence aei:id="159103565580694245">
                                                      <bpel:assign aei:id="159103572574097782" name="Security_Provider">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;&lt;/arg1_string&gt;
   &lt;arg2_string&gt;&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "createUserUsingPost" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                                            <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:invoke aei:id="159103572574097784" inputVariable="getEncryptedSecurityPayloadRest"
                                                                   name="Security_Provider"
                                                                   operation="getEncryptedSecurityPayloadRest"
                                                                   outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                                   partnerLink="SecurityProvider"/>
                                                      <bpel:assign aei:id="159103572574097785" name="Create_User">
                                                         <bpel:copy>
                                                            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/entities/", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text() ,"/users?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"userData": {{"userName": "{ $userName }","orsId": "{$InfaTask/mdmavxsd:orsId/text()}","email": "{ $email }","firstName": "{ $firstName }","lastName": "{ $lastName }"}}, {$PasswordPolicy},"forgotPasswordUrl":"{abx:resolveURN("urn:forgot:password:url")}" }}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                                            <bpel:to variable="RESTRequest"/>
                                                         </bpel:copy>
                                                      </bpel:assign>
                                                      <bpel:invoke aei:id="159103572574097787" inputVariable="RESTRequest"
                                                                   name="Create_User_Service"
                                                                   operation="requestResponse"
                                                                   outputVariable="RESTResponse"
                                                                   partnerLink="PortalRestProvider"/>
                                                   </bpel:sequence>
                                                </bpel:elseif>
                                                <bpel:else aei:id="1590053818137431588">
                                                   <bpel:empty aei:id="1590053818138431592" aei:implicit="yes"/>
                                                </bpel:else>
                                             </bpel:if>
                                             <bpel:empty aei:id="1590053168709411016"/>
                                          </bpel:sequence>
                                       </bpel:scope>
                                    </bpel:else>
                                 </bpel:if>
                                 <bpel:empty aei:id="158983092021083713"/>
                              </bpel:sequence>
                           </bpel:scope>
                           <bpel:else aei:id="1590228999716492778">
                              <bpel:empty aei:id="1590228999719492782" aei:implicit="yes"/>
                           </bpel:else>
                        </bpel:if>
                     </bpel:sequence>
                     <bpel:elseif aei:id="1587659874005208133">
                        <bpel:condition>$ProcessTaskResponse/mdmavxsd:actionName/text()='Send Back'</bpel:condition>
                        <bpel:sequence aei:id="1587659874005208137">
                           <bpel:assign aei:id="1587660573134210104" name="Setup_Update">
                              <bpel:copy>
                                 <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
                                 <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
     &lt;mdmavxsd:name&gt;AVOSBeUpdate&lt;/mdmavxsd:name&gt;
     &lt;mdmavxsd:displayName&gt;Update&lt;/mdmavxsd:displayName&gt;
     &lt;mdmavxsd:description&gt;Update step in the workflow&lt;/mdmavxsd:description&gt;
     &lt;mdmavxsd:pendingBVT&gt;true&lt;/mdmavxsd:pendingBVT&gt;
     &lt;mdmavxsd:dataUpdateType&gt;PENDING&lt;/mdmavxsd:dataUpdateType&gt;
     &lt;mdmavxsd:defaultApproval&gt;false&lt;/mdmavxsd:defaultApproval&gt;
     &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
 &lt;/mdmavxsd:taskType&gt;</bpel:from>
                                 <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
                        &lt;mdmavxsd:INFATaskAction&gt;
                           &lt;mdmavxsd:name&gt;Submit For Approval&lt;/mdmavxsd:name&gt;
                           &lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
                           &lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
                           &lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
                           &lt;mdmavxsd:nextTaskType&gt;AVOSBeFinalReview&lt;/mdmavxsd:nextTaskType&gt;
                        &lt;/mdmavxsd:INFATaskAction&gt;
                        &lt;mdmavxsd:INFATaskAction&gt;
                           &lt;mdmavxsd:name&gt;Cancel&lt;/mdmavxsd:name&gt;
                           &lt;mdmavxsd:cancelTask&gt;true&lt;/mdmavxsd:cancelTask&gt;
                           &lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
                           &lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
                           &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
                        &lt;/mdmavxsd:INFATaskAction&gt;
                     &lt;/mdmavxsd:actions&gt;</bpel:from>
                                 <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:actions</bpel:to>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:from>
                                 <bpel:to>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:to>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:extensionActivity>
                              <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                                                  aei:id="1587659957148208543"
                                                  inputVariable="ProcessTaskRequest"
                                                  name="Update"
                                                  outputVariable="ProcessTaskResponse">
                                 <b4p:localTask xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd"
                                                reference="UpdateTask">
                                    <htd:peopleAssignments/>
                                 </b4p:localTask>
                                 <b4p:attachmentPropagation xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd" fromProcess="all"
                                                            toProcess="newOnly"/>
                              </b4p:peopleActivity>
                           </bpel:extensionActivity>
                           <bpel:assign aei:id="1587660806865213798" ext1:mutexTransitions="yes"
                                        name="Set_Cancel_if_Needed">
                              <bpel:copy>
                                 <bpel:from>$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Cancel'</bpel:from>
                                 <bpel:to variable="BCancelApprovedOrReject"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:assign aei:id="1587660806865213800" name="Assign_Actions">
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat($InfaTask/mdmavxsd:taskData/mdmavxsd:creator/text(),",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###",$actionName)</bpel:from>
                                 <bpel:to variable="actionName"/>
                              </bpel:copy>
                              <bpel:copy>
                                 <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">cfgx:getPropertyValue( $getConfig,concat("portal.", $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskType/mdmavxsd:name/text(),".",$ProcessTaskResponse/mdmavxsd:actionName/text()))</bpel:from>
                                 <bpel:to variable="newState"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:scope aei:id="1589572821201397479" name="Update_State_If_Required">
                              <bpel:sequence aei:id="1589572821201397484">
                                 <bpel:empty aei:id="1589572821201397485"/>
                                 <bpel:if aei:id="1589572821201397486">
                                    <bpel:condition>not($isUpdate) and $isStateEnabled and boolean($newState)</bpel:condition>
                                    <bpel:sequence aei:id="1589572821201397490">
                                       <bpel:assign aei:id="1589572821201397491" name="Security_Provider">
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text()}&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{"updateEntityUsingPOST"}&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{"avos"}&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $AdminHubUserName }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                                             <bpel:to variable="getEncryptedSecurityPayloadRest"/>
                                          </bpel:copy>
                                       </bpel:assign>
                                       <bpel:invoke aei:id="1589572821201397493" inputVariable="getEncryptedSecurityPayloadRest"
                                                    name="Security_Provider"
                                                    operation="getEncryptedSecurityPayloadRest"
                                                    outputVariable="getEncryptedSecurityPayloadRestResponse"
                                                    partnerLink="SecurityProvider"/>
                                       <bpel:assign aei:id="1589572821201397494" name="Setup_Update_Request">
                                          <bpel:copy>
                                             <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;POST&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat("infa-portal/portals/state/",$portalId,"?systemName=Admin")}&lt;/ns:pathInfo&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;ns:header name="X-INFA-ORS" value="{$InfaTask/mdmavxsd:orsId/text()}"/&gt; 
&lt;ns:header name="X-INFA-PORTALID" value="{$portalId}"/&gt;
&lt;ns:header name="X-MDM-AUTH-PAYLOAD" value="{ $getEncryptedSecurityPayloadRestResponse/string/text() }"/&gt;
&lt;/ns:headers&gt;
&lt;rest:payload contentType="application/json"&gt;{{"rowidObject":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}","portalState":"{$newState}","interactionId":"{normalize-space($InfaTask/mdmavxsd:taskData/mdmavxsd:interactionId/text())}"}}&lt;/rest:payload&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                                             <bpel:to variable="RESTRequest"/>
                                          </bpel:copy>
                                       </bpel:assign>
                                       <bpel:invoke aei:id="1589572821201397496" inputVariable="RESTRequest"
                                                    name="Update_Request_Service"
                                                    operation="requestResponse"
                                                    outputVariable="RESTResponse"
                                                    partnerLink="PortalRestProvider"/>
                                    </bpel:sequence>
                                    <bpel:else aei:id="1589572821201397497">
                                       <bpel:empty aei:id="1589572821201397499" aei:implicit="yes"/>
                                    </bpel:else>
                                 </bpel:if>
                                 <bpel:empty aei:id="1589572821201397500"/>
                              </bpel:sequence>
                           </bpel:scope>
                        </bpel:sequence>
                     </bpel:elseif>
                     <bpel:else aei:id="1587659798565208051">
                        <bpel:if aei:id="1587660884064215961">
                           <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text() = 'Reject'</bpel:condition>
                           <bpel:assign aei:id="1587660935321216161" name="Set_Reject">
                              <bpel:copy>
                                 <bpel:from>
                                    <bpel:literal>true</bpel:literal>
                                 </bpel:from>
                                 <bpel:to variable="BCancelApprovedOrReject"/>
                              </bpel:copy>
                           </bpel:assign>
                           <bpel:else aei:id="1587660884065215971">
                              <bpel:empty aei:id="1587660884065215975" aei:implicit="yes"/>
                           </bpel:else>
                        </bpel:if>
                     </bpel:else>
                  </bpel:if>
               </bpel:sequence>
            </bpel:repeatUntil>
         </bpel:sequence>
         <bpel:else aei:id="159345040814505401">
            <bpel:empty aei:id="159345040814605405" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:if aei:id="1587661892892225184">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text()='Cancel' or $ProcessTaskResponse/mdmavxsd:actionName/text()='Reject' or
$ProcessTaskResponse/mdmavxsd:actionName/text()='Discard'</bpel:condition>
         <bpel:sequence aei:id="1587661892892225192">
            <bpel:assign aei:id="1587661979600225394" name="Security_Provider_Request">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest xmlns:securitypayloadgeneratorinterface="urn:security:payload:securitypayloadgeneratorinterface"&gt;
   &lt;arg1_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text() }&lt;/arg1_string&gt;
   &lt;arg2_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:orsId/text() }&lt;/arg2_string&gt;
   &lt;arg3_string&gt;{ "deletePendingUsingDelete" }&lt;/arg3_string&gt;
   &lt;arg4_string&gt;{ "avos" }&lt;/arg4_string&gt;
   &lt;arg5_string&gt;{ $ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:hubUsername/text() }&lt;/arg5_string&gt;
&lt;/securitypayloadgeneratorinterface:getEncryptedSecurityPayloadRest&gt;</bpel:from>
                  <bpel:to variable="getEncryptedSecurityPayloadRest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1587661983421225580" inputVariable="getEncryptedSecurityPayloadRest"
                         name="Security_Provider"
                         operation="getEncryptedSecurityPayloadRest"
                         outputVariable="getEncryptedSecurityPayloadRestResponse"
                         partnerLink="SecurityProvider"/>
            <bpel:assign aei:id="1587662099793225726" name="Delete_Pending_Request">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;ns:RESTRequest xmlns:ns="http://schemas.activebpel.org/REST/2007/12/01/aeREST.xsd"&gt;
   &lt;ns:method&gt;DELETE&lt;/ns:method&gt;
   &lt;!--Optional:--&gt;&lt;ns:pathInfo&gt;{concat($InfaTask/mdmavxsd:orsId/text(),'/',$InfaTask/mdmavxsd:taskData/mdmavxsd:subjectAreaUID/text(),'/', $InfaTask/mdmavxsd:taskData/mdmavxsd:taskRecords/mdmavxsd:INFARecordKey[1]/mdmavxsd:rowId/text())}&lt;/ns:pathInfo&gt;
   &lt;rest:params&gt;  
&lt;!--Optional:--&gt;
&lt;rest:param name="action" value="deletePending"/&gt;
&lt;rest:param name="interactionId" value="{$ProcessTaskResponse/mdmavxsd:INFATask/mdmavxsd:taskData/mdmavxsd:interactionId/text()}"/&gt;
&lt;/rest:params&gt;
   &lt;!--Optional:--&gt;&lt;ns:headers&gt;
&lt;!--Optional:--&gt;&lt;ns:header name="cookie" value="{$getEncryptedSecurityPayloadRestResponse/string/text()}"/&gt;
&lt;ns:header name="Content-Type" value="application/json"/&gt; 
&lt;/ns:headers&gt;
   &lt;!--Optional:--&gt;&lt;ns:ssl&gt;false&lt;/ns:ssl&gt;
  &lt;rest:locales&gt;
      &lt;rest:locale country="US" lang="en"&gt;en_US&lt;/rest:locale&gt;
   &lt;/rest:locales&gt;
&lt;/ns:RESTRequest&gt;</bpel:from>
                  <bpel:to variable="RESTRequest"/>
               </bpel:copy>
            </bpel:assign>
            <bpel:invoke aei:id="1587662102745225864" inputVariable="RESTRequest" name="Delete_Pending"
                         operation="requestResponse"
                         outputVariable="RESTResponse"
                         partnerLink="CSRest"/>
         </bpel:sequence>
         <bpel:else aei:id="1587661892892225194">
            <bpel:empty aei:id="1587661892892225198" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:if aei:id="1587661205801218238">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">$ProcessTaskResponse/mdmavxsd:actionName/text()='Approve' or $ProcessTaskResponse/mdmavxsd:actionName/text()='Reject'</bpel:condition>
         <bpel:sequence aei:id="1587661205801218241">
            <bpel:assign aei:id="1587661205801218242" ext1:mutexTransitions="yes"
                         name="Setup_Notification"
                         validate="yes">
               <bpel:copy>
                  <bpel:from>$ProcessTaskResponse/mdmavxsd:INFATask</bpel:from>
                  <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask</bpel:to>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:taskType xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
                                 &lt;mdmavxsd:name&gt;AVOSBeNotification&lt;/mdmavxsd:name&gt;
                                 &lt;mdmavxsd:displayName&gt;Notification&lt;/mdmavxsd:displayName&gt;
                                 &lt;mdmavxsd:description&gt;Notification step in the workflow&lt;/mdmavxsd:description&gt;
                                 &lt;mdmavxsd:pendingBVT&gt;false&lt;/mdmavxsd:pendingBVT&gt;
                                 &lt;mdmavxsd:dataUpdateType&gt;ACTIVE&lt;/mdmavxsd:dataUpdateType&gt;
                                 &lt;mdmavxsd:defaultApproval&gt;false&lt;/mdmavxsd:defaultApproval&gt;
                                 &lt;mdmavxsd:creationType&gt;CREATE&lt;/mdmavxsd:creationType&gt;
                              &lt;/mdmavxsd:taskType&gt;</bpel:from>
                  <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:taskType</bpel:to>
               </bpel:copy>
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;mdmavxsd:actions xmlns:mdmavxsd="urn:informatica.mdm.av.xsd"&gt;
                                 &lt;mdmavxsd:INFATaskAction&gt;
                                    &lt;mdmavxsd:name&gt;OK&lt;/mdmavxsd:name&gt;
                                    &lt;mdmavxsd:cancelTask&gt;false&lt;/mdmavxsd:cancelTask&gt;
                                    &lt;mdmavxsd:closeTaskView&gt;true&lt;/mdmavxsd:closeTaskView&gt;
                                    &lt;mdmavxsd:manualReassign&gt;false&lt;/mdmavxsd:manualReassign&gt;
                                    &lt;mdmavxsd:nextTaskType&gt;&lt;/mdmavxsd:nextTaskType&gt;
                                 &lt;/mdmavxsd:INFATaskAction&gt;
&lt;/mdmavxsd:actions&gt;</bpel:from>
                  <bpel:to>$ProcessTaskRequest/mdmavxsd:INFATask/mdmavxsd:actions</bpel:to>
               </bpel:copy>
            </bpel:assign>
            <bpel:extensionActivity>
               <b4p:peopleActivity aei:extensionActivityId="com.activee.bpel4peopleep.activities.peopleActivity"
                                   aei:id="1587661205801218246"
                                   inputVariable="ProcessTaskRequest"
                                   name="Notification"
                                   outputVariable="ProcessTaskResponse">
                  <b4p:localTask xmlns:securitypayloadgeneratorinterface="urn:com:avos:security:certificate:securitypayloadgeneratorinterface"
                                 xmlns:ns="http://Infa_One-Step_Approval/infa_one-step_approval/public"
                                 xmlns:mdmavos="urn:informatica.mdm.av"
                                 xmlns:cs_pl="http://www.informatica.com/activevos/bemdmworkflow/wsdl/cspl"
                                 xmlns:mdm_avos_pl="http://www.informatica.com/activevos/bemdmworkflow/wsdl/mdmavospl"
                                 xmlns:mdm_avos_pl1="http://www.informatica.com/activevos/mdmworkflow/wsdl/mdmavospl"
                                 xmlns:mdm_av_api="urn:informatica.mdm.av.api"
                                 xmlns:ns-1="http://newSupplierProcess/newsupplierprocess/public"
                                 xmlns:sifpl="http://www.informatica.com/activevos/bemdmworkflow/wsdl/sifpl"
                                 xmlns:ns5="http://CustomerOrgProcess/CustomerOrgProcess"
                                 xmlns:ns6="http://Customer360Process/customer360process"
                                 xmlns:cs="urn:cs-soap.informatica.mdm"
                                 xmlns:securitypayloadgeneratorinterface1="urn:security:payload:securitypayloadgeneratorinterface"
                                 xmlns:ns2="http://Infa_One-Step_Approval/infa_one-step_approval"
                                 xmlns:ns4="http://CustomerOrgProcess/CustomerOrgProcess"
                                 xmlns:mapl="http://www.informatica.com/activevos/bemdmworkflow/wsdl/mdmavospl"
                                 xmlns:ns3="urn:co-base.informatica.mdm"
                                 xmlns:ext2="http://www.activebpel.org/2006/09/bpel/extension/activity"
                                 xmlns:csb="urn:cs-base.informatica.mdm"
                                 xmlns:cso="urn:cs-ors.informatica.mdm"
                                 xmlns:sif_pl="http://www.informatica.com/activevos/bemdmworkflow/wsdl/sifpl"
                                 xmlns:sif="urn:siperian.api"
                                 reference="NotificationTask">
                     <htd:peopleAssignments/>
                  </b4p:localTask>
                  <b4p:attachmentPropagation xmlns:ns5="http://www.informatica.com/schema/1.0/av_config.xsd" fromProcess="all"
                                             toProcess="newOnly"/>
               </b4p:peopleActivity>
            </bpel:extensionActivity>
            <bpel:assign aei:id="1587661205801218247" name="Assign_Actions">
               <bpel:copy>
                  <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">concat($InfaTask/mdmavxsd:taskData/mdmavxsd:creator/text(),",",$ProcessTaskResponse/mdmavxsd:actionName/text(),",",current-dateTime(),"###",$actionName)</bpel:from>
                  <bpel:to variable="actionName"/>
               </bpel:copy>
            </bpel:assign>
         </bpel:sequence>
         <bpel:else aei:id="1587661205801218250">
            <bpel:empty aei:id="1587661205801218251" aei:implicit="yes"/>
         </bpel:else>
      </bpel:if>
      <bpel:empty aei:id="159609106077125491"/>
   </bpel:sequence>
</bpel:process>